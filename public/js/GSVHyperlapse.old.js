var GSVHyperlapse, GSVHyperlapseHeading, TAG_HEIGHT, getFollowedPath, pointOnLine, uniqueID;

Number.prototype.toRad = function() {
  return this * Math.PI / 180;
};

Number.prototype.toDeg = function() {
  return this * 180 / Math.PI;
};

TAG_HEIGHT = 40;

GSVHyperlapseHeading = {
  BACKWARD: "backward",
  LOOKAT: "lookat",
  NORTH: "north"
};

pointOnLine = function(t, a, b) {
  var lat1, lat2, lng1, lng2, x, y;
  lat1 = a.lat().toRad();
  lng1 = a.lng().toRad();
  lat2 = b.lat().toRad();
  lng2 = b.lng().toRad();
  x = lat1 + t * (lat2 - lat1);
  y = lng1 + t * (lng2 - lng1);
  return new google.maps.LatLng(x.toDeg(), y.toDeg());
};

getFollowedPath = function(m, a, b) {
  var d, t;
  d = google.maps.geometry.spherical.computeDistanceBetween(a, b);
  if (m < 0 || d < m) {
    alert("error getFolowedPath");
  }
  t = m / d;
  return pointOnLine(t, a, b);
};

uniqueID = function() {
  var date, randam, time;
  randam = Math.floor(Math.random() * 1000);
  date = new Date();
  time = date.getTime();
  return randam + time.toString();
};

GSVHyperlapse = (function() {
  var _class;

  GSVHyperlapse.DIST_BETWEEN_PTS = 5;

  GSVHyperlapse.MAX_PTS = 100;

  GSVHyperlapse.dirService = new google.maps.DirectionsService({});

  GSVHyperlapse.dirRegex = /dir\/([0-9.-]*),([0-9.-]*)\/([0-9.-]*),([0-9.-]*)\/@([0-9.-]*),([0-9.-]*),([0-9]*)z\/data=(.*)$/;

  GSVHyperlapse.dataRegex = /!1d([0-9.-]*)!2d([0-9.-]*)/g;

  GSVHyperlapse.dataLatLngRegex = /!1d([0-9.-]*)!2d([0-9.-]*)/;

  GSVHyperlapse.ldr = new GSVPANO.PanoLoader();

  GSVHyperlapse.ldrStack = [];

  _class = GSVHyperlapse;

  GSVHyperlapse.onError = function(err) {
    return alert("error");
  };

  GSVHyperlapse.onMessage = function() {
    return null;
  };

  GSVHyperlapse.onPanoramaLoad = function() {
    return null;
  };

  GSVHyperlapse.onAnalyzeComplete = function() {
    return null;
  };

  GSVHyperlapse.onComposeComplete = function() {
    return null;
  };

  GSVHyperlapse.onProgress = function() {
    return null;
  };

  GSVHyperlapse.onCancel = function() {
    return null;
  };

  function GSVHyperlapse(name, map) {
    this.name = name;
    this.bCancel = false;
    this.bWaiting = false;
    this.uniqueId = uniqueID();
    this.panoList = [];
    this.client = new google.maps.StreetViewService();
    this.map = new google.maps.Map(map, {
      mapTypeId: google.maps.MapTypeId.ROADMAP,
      zoom: 16
    });
    this.report = {};
  }

  GSVHyperlapse.prototype.cancel = function() {
    this.bCancel = true;
    if (!this.bWaiting) {
      return _class.onCancel.call(this);
    }
  };

  GSVHyperlapse.prototype.createPanoData = function(res) {
    return {
      id: res.location.pano,
      rotation: res.tiles.centerHeading,
      pitch: res.tiles.originPitch,
      latLng: res.location.latLng,
      date: res.imageDate
    };
  };

  GSVHyperlapse.prototype.setParameters = function(params) {
    var result;
    this.method = params.method;
    this.travelMode = params.travelMode;
    this.step = parseFloat(params.step);
    this.searchRadius = parseFloat(params.searchRadius);
    this.headingMode = params.headingMode;
    this.zoom = params.zoom;
    if (this.headingMode === GSVHyperlapseHeading.LOOKAT) {
      result = /([0-9.]+), ([0-9.]+)/.exec(params.lookat);
      if (!(result != null)) {
        alert("lookat latLng cannot be parsed");
        return;
      }
      return this.lookat = new google.maps.LatLng(result[1], result[2]);
    } else if (this.haeadingMode === GSVHyperlapseHeading.BACKWARD) {
      if (this.panoList.length < 2) {
        alert("cannot solve backward heading because pano length is less than 2.");
      }
    }
  };

  GSVHyperlapse.prototype.createFromDirection = function(url) {
    var prevId, rawPts, requestRoute, retrivePanoData, routeRes, subdivideRoute;
    rawPts = [];
    routeRes = null;
    prevId = '';
    this.report.settings = "method: direction\nurl: " + url + "\nstep: " + this.step + "\nsearchRadius: " + this.searchRadius;
    requestRoute = (function(_this) {
      return function() {
        var center, destination, i, m, origin, r, req, result, waypoints, wp, zoom;
        result = _class.dirRegex.exec(url);
        if (result == null) {
          alert("cannot parse url");
          return;
        }
        origin = new google.maps.LatLng(result[1], result[2]);
        destination = new google.maps.LatLng(result[3], result[4]);
        center = new google.maps.LatLng(result[5], result[6]);
        zoom = parseInt(result[7]);
        _this.map.setZoom(zoom);
        _this.map.setCenter(center);
        req = {
          origin: origin,
          destination: destination,
          travelMode: travelMode
        };
        waypoints = [];
        if ((result = result[8].match(GSVHyperlapse.dataRegex)) != null) {
          for (i in result) {
            r = result[i];
            m = GSVHyperlapse.dataLatLngRegex.exec(r);
            wp = new google.maps.LatLng(m[2], m[1]);
            waypoints.push({
              location: wp.toString(),
              stopover: false
            });
          }
          req.waypoints = waypoints;
        }
        return GSVHyperlapse.dirService.route(req, function(res, status) {
          if (status === google.maps.DirectionsStatus.OK) {
            routeRes = res;
            return subdivideRoute();
          } else {
            return _class.onMessage.call(_this, "cannot get route.");
          }
        });
      };
    })(this);
    subdivideRoute = (function(_this) {
      return function() {
        var a, b, d, i, j, m, path, pt, r, ref, route;
        if (_this.bCancel) {
          _class.onCancel.call(_this);
          return;
        }
        _class.onMessage.call(_this, "requesting route..");
        _class.onMessage.call(_this, "analyzing route..");
        route = routeRes.routes[0];
        path = route.overview_path;
        _class.onMessage.call(_this, "path length: " + (parseInt(google.maps.geometry.spherical.computeLength(path))) + "(m), step: " + _this.step + "(m), search radius: " + _this.searchRadius + " (m)");
        console.log(path);
        d = 0;
        r = 0;
        m = 0;
        a = b = null;
        for (i = j = 0, ref = path.length - 2; 0 <= ref ? j <= ref : j >= ref; i = 0 <= ref ? ++j : --j) {
          a = path[i];
          b = path[i + 1];
          d = google.maps.geometry.spherical.computeDistanceBetween(a, b);
          m = -r + _this.step;
          if (d < m) {
            r += d;
          } else {
            while (m < d) {
              pt = getFollowedPath(m, a, b);
              rawPts.push(pt);
              m += _this.step;
            }
            r = _this.step - (m - d);
          }
        }
        _this.map.fitBounds(route.bounds);
        path = new google.maps.Polyline({
          path: path,
          geodesic: true,
          strokeColor: '#000000',
          strokeOpacity: 1.0,
          strokeWeight: 2
        });
        path.setMap(_this.map);
        _class.onMessage.call(_this, "num of waypoints: " + rawPts.length);
        return retrivePanoData();
      };
    })(this);
    retrivePanoData = (function(_this) {
      return function() {
        var idx, onLoad;
        _class.onMessage.call(_this, "retriving pano id..");
        idx = 0;
        onLoad = function(res, status) {
          var marker, pano;
          if (_this.bCancel) {
            _class.onCancel.call(_this);
            return;
          }
          if (status === google.maps.StreetViewStatus.OK) {
            pano = _this.createPanoData(res);
            if (pano.id !== prevId) {
              _this.panoList.push(pano);
              marker = new google.maps.Marker({
                position: pano.latLng,
                map: _this.map,
                title: "" + idx
              });
              prevId = pano.id;
              console.log(pano.id);
            }
          }
          _class.onProgress.call(_this, idx, rawPts.length);
          if (++idx < rawPts.length) {
            return _this.client.getPanoramaByLocation(rawPts[idx], _this.searchRadius, onLoad);
          } else {
            console.log(_this.panoList);
            _this.bWaiting = false;
            _class.onMessage.call(_this, "total pano id: " + _this.panoList.length);
            _class.onProgress.call(_this, idx, rawPts.length);
            return _class.onAnalyzeComplete.call(_this);
          }
        };
        _this.bWaiting = true;
        prevId = '';
        return _this.client.getPanoramaByLocation(rawPts[idx], _this.searchRadius, onLoad);
      };
    })(this);
    return requestRoute();
  };

  GSVHyperlapse.prototype.createFromPanoId = function(list) {
    var idx, onLoad;
    idx = 0;
    this.report.settings = "method: panoid";
    _class.onMessage.call(this, "start compose<br>headingMode:" + this.headingMode);
    onLoad = (function(_this) {
      return function(res, status) {
        var marker, pano;
        if (idx === 0) {
          _class.onMessage.call(_this, "analyzing..");
        }
        if (status === google.maps.StreetViewStatus.OK) {
          if (_this.bCancel) {
            _class.onCancel.call(_this);
            return;
          }
          pano = _this.createPanoData(res);
          _this.panoList.push(pano);
          if (idx === 0) {
            _this.map.setCenter(pano.latLng);
            _this.map.setZoom(13);
          }
          marker = new google.maps.Marker({
            position: pano.latLng,
            map: _this.map,
            title: "" + idx
          });
          _class.onProgress.call(_this, idx, list.length);
          if (++idx < list.length) {
            return _this.client.getPanoramaById(list[idx], onLoad);
          } else {
            _this.bWaiting = false;
            _class.onMessage.call(_this, "total pano id: " + _this.panoList.length);
            _class.onProgress.call(_this, idx, list.length);
            return _class.onAnalyzeComplete.call(_this);
          }
        } else {
          return alert("error on createFromPanoId() : " + status);
        }
      };
    })(this);
    this.bWaiting = true;
    return this.client.getPanoramaById(list[idx], onLoad);
  };

  GSVHyperlapse.prototype.compose = function() {
    var idx, loader, onCompose, pano, writeToTag;
    if (this.panoList.length === 0) {
      _class.onMessage.call(this, "there is no pano id");
      return;
    }
    loader = new GSVPANO.PanoLoader({
      zoom: this.zoom
    });
    this.report.panoIds = JSON.stringify((function() {
      var j, len, ref, results;
      ref = this.panoList;
      results = [];
      for (j = 0, len = ref.length; j < len; j++) {
        pano = ref[j];
        results.push(pano.id);
      }
      return results;
    }).call(this));
    this.report.panoList = JSON.stringify(this.panoList);
    this.tagCanvas = document.createElement('canvas');
    this.tagCanvas.width = loader.width;
    this.tagCanvas.height = TAG_HEIGHT;
    this.tagCtx = this.tagCanvas.getContext('2d');
    this.glsl = Glsl({
      canvas: document.createElement('canvas'),
      fragment: document.getElementById("pano-rotation").textContent,
      variables: {
        heading: 0.0,
        pitch: 0.0,
        original: loader.canvas,
        tag: this.tagCanvas
      }
    });
    this.glsl.setSize(loader.width, loader.height + TAG_HEIGHT);
    _class.onMessage.call(this, "composing panorama.. size:" + loader.width + "x" + loader.height);
    writeToTag = (function(_this) {
      return function(name, value, x, y) {
        _this.tagCtx.fillStyle = '#ffffff';
        _this.tagCtx.fillText(value, x + 40, y);
        _this.tagCtx.fillStyle = '#ff0000';
        return _this.tagCtx.fillText(name, x, y);
      };
    })(this);
    onCompose = (function(_this) {
      return function() {
        var ajustHeading, ajustPitch, cursor, heading, i;
        if (_this.bCancel) {
          _class.onCancel.call(_this);
          return;
        }
        ajustHeading = _this.panoList[idx].rotation;
        ajustPitch = 0;
        heading = 0;
        if (_this.headingMode === GSVHyperlapseHeading.BACKWARD) {
          i = idx === 0 ? 1 : idx;
          heading = google.maps.geometry.spherical.computeHeading(_this.panoList[i].latLng, _this.panoList[i - 1].latLng);
        } else if (_this.headingMode === GSVHyperlapseHeading.LOOKAT) {
          heading = google.maps.geometry.spherical.computeHeading(_this.panoList[idx].latLng, _this.lookat);
        }
        console.log(heading);
        ajustHeading -= heading;
        _this.tagCtx.fillStyle = '#000000';
        _this.tagCtx.fillRect(0, 0, _this.tagCanvas.width, _this.tagCanvas.height);
        _this.tagCtx.fillStyle = '#ffffff';
        _this.tagCtx.font = '12px Arial';
        console.log(heading);
        cursor = 0;
        writeToTag("uid", "" + _this.uniqueId, cursor++ * 0xff, 36);
        writeToTag("panoid", "" + _this.panoList[idx].id, cursor++ * 0xff, 36);
        writeToTag("lat", "" + (_this.panoList[idx].latLng.lat().toPrecision(17)), cursor++ * 0xff, 36);
        writeToTag("lng", "" + (_this.panoList[idx].latLng.lng().toPrecision(17)), cursor++ * 0xff, 36);
        writeToTag("head", "" + (heading.toPrecision(17)), cursor++ * 0xff, 36);
        writeToTag("date", "" + _this.panoList[idx].date, cursor++ * 0xff, 36);
        cursor = 0;
        writeToTag("zoom", "" + _this.zoom, cursor++ * 0xff, 18);
        writeToTag("aj_h", "" + (ajustHeading.toPrecision(17)), cursor++ * 0xff, 18);
        writeToTag("aj_p", "" + (ajustPitch.toPrecision(17)), cursor++ * 0xff, 18);
        _this.glsl.set('heading', ajustHeading.toRad());
        _this.glsl.set('pitch', ajustPitch.toRad());
        _this.glsl.syncAll();
        _this.glsl.render();
        _class.onProgress.call(_this, idx, _this.panoList.length);
        _class.onPanoramaLoad.call(_this, idx, _this.glsl.canvas);
        if (++idx < _this.panoList.length) {
          return setTimeout(function() {
            return loader.composePanorama(_this.panoList[idx].id);
          }, 100);
        } else {
          _this.bWaiting = false;
          console.log("complete");
          _class.onProgress.call(_this, idx, _this.panoList.length);
          _class.onMessage.call(_this, "complete - total: " + _this.panoList.length + ", duration: " + (_this.panoList.length / 24));
          return _class.onComposeComplete.call(_this);
        }
      };
    })(this);
    loader.onPanoramaLoad = onCompose;
    loader.onError = function(msg) {
      return alert("error onCompose() : " + msg);
    };
    loader.onNoPanoramaData = function(status) {
      return alert("error onNoPanoramaData() : " + status);
    };
    idx = 0;
    this.bWaiting = true;
    return loader.composePanorama(this.panoList[idx].id);
  };

  return GSVHyperlapse;

})();

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkdTVkh5cGVybGFwc2Uub2xkLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxJQUFBLHVGQUFBOztBQUFBLE1BQU0sQ0FBQyxTQUFTLENBQUMsS0FBakIsR0FBeUIsU0FBQSxHQUFBO1NBQU0sSUFBQSxHQUFJLElBQUksQ0FBQyxFQUFULEdBQWMsSUFBcEI7QUFBQSxDQUF6QixDQUFBOztBQUFBLE1BQ00sQ0FBQyxTQUFTLENBQUMsS0FBakIsR0FBeUIsU0FBQSxHQUFBO1NBQU0sSUFBQSxHQUFJLEdBQUosR0FBVSxJQUFJLENBQUMsR0FBckI7QUFBQSxDQUR6QixDQUFBOztBQUFBLFVBR0EsR0FBYSxFQUhiLENBQUE7O0FBQUEsb0JBS0EsR0FDQztBQUFBLEVBQUEsUUFBQSxFQUFVLFVBQVY7QUFBQSxFQUNBLE1BQUEsRUFBUSxRQURSO0FBQUEsRUFFQSxLQUFBLEVBQU8sT0FGUDtDQU5ELENBQUE7O0FBQUEsV0FVQSxHQUFjLFNBQUMsQ0FBRCxFQUFJLENBQUosRUFBTyxDQUFQLEdBQUE7QUFDYixNQUFBLDRCQUFBO0FBQUEsRUFBQSxJQUFBLEdBQU8sQ0FBQyxDQUFDLEdBQUYsQ0FBQSxDQUFPLENBQUMsS0FBUixDQUFBLENBQVAsQ0FBQTtBQUFBLEVBQ0EsSUFBQSxHQUFPLENBQUMsQ0FBQyxHQUFGLENBQUEsQ0FBTyxDQUFDLEtBQVIsQ0FBQSxDQURQLENBQUE7QUFBQSxFQUdBLElBQUEsR0FBTyxDQUFDLENBQUMsR0FBRixDQUFBLENBQU8sQ0FBQyxLQUFSLENBQUEsQ0FIUCxDQUFBO0FBQUEsRUFJQSxJQUFBLEdBQU8sQ0FBQyxDQUFDLEdBQUYsQ0FBQSxDQUFPLENBQUMsS0FBUixDQUFBLENBSlAsQ0FBQTtBQUFBLEVBTUEsQ0FBQSxHQUFJLElBQUEsR0FBTyxDQUFBLEdBQUksQ0FBQyxJQUFBLEdBQU8sSUFBUixDQU5mLENBQUE7QUFBQSxFQU9BLENBQUEsR0FBSSxJQUFBLEdBQU8sQ0FBQSxHQUFJLENBQUMsSUFBQSxHQUFP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LENBQUMsSUFBakIsQ0FBc0IsS0FBdEIsRUFBeUIsb0JBQUEsR0FBcUIsS0FBQyxDQUFBLFFBQVEsQ0FBQyxNQUEvQixHQUFzQyxjQUF0QyxHQUFtRCxDQUFDLEtBQUMsQ0FBQSxRQUFRLENBQUMsTUFBVixHQUFtQixFQUFwQixDQUE1RSxDQUhBLENBQUE7aUJBSUEsTUFBTSxDQUFDLGlCQUFpQixDQUFDLElBQXpCLENBQThCLEtBQTlCLEVBVkQ7U0F6RFc7TUFBQSxFQUFBO0lBQUEsQ0FBQSxDQUFBLENBQUEsSUFBQSxDQXJDWixDQUFBO0FBQUEsSUEyR0EsTUFBTSxDQUFDLGNBQVAsR0FBd0IsU0EzR3hCLENBQUE7QUFBQSxJQTRHQSxNQUFNLENBQUMsT0FBUCxHQUFpQixTQUFDLEdBQUQsR0FBQTthQUNoQixLQUFBLENBQU0sc0JBQUEsR0FBdUIsR0FBN0IsRUFEZ0I7SUFBQSxDQTVHakIsQ0FBQTtBQUFBLElBOEdBLE1BQU0sQ0FBQyxnQkFBUCxHQUEwQixTQUFDLE1BQUQsR0FBQTthQUN6QixLQUFBLENBQU0sNkJBQUEsR0FBOEIsTUFBcEMsRUFEeUI7SUFBQSxDQTlHMUIsQ0FBQTtBQUFBLElBaUhBLEdBQUEsR0FBTSxDQWpITixDQUFBO0FBQUEsSUFrSEEsSUFBQyxDQUFBLFFBQUQsR0FBWSxJQWxIWixDQUFBO1dBb0hBLE1BQU0sQ0FBQyxlQUFQLENBQXdCLElBQUMsQ0FBQSxRQUFTLENBQUEsR0FBQSxDQUFJLENBQUMsRUFBdkMsRUF0SFE7RUFBQSxDQTdTVCxDQUFBOzt1QkFBQTs7SUExQ0QsQ0FBQSIsImZpbGUiOiJHU1ZIeXBlcmxhcHNlLm9sZC5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyIsInNvdXJjZXNDb250ZW50IjpbIk51bWJlci5wcm90b3R5cGUudG9SYWQgPSAoKSAtPiBAICogTWF0aC5QSSAvIDE4MFxuTnVtYmVyLnByb3RvdHlwZS50b0RlZyA9ICgpIC0+IEAgKiAxODAgLyBNYXRoLlBJXG5cblRBR19IRUlHSFQgPSA0MFxuXG5HU1ZIeXBlcmxhcHNlSGVhZGluZyA9XG5cdEJBQ0tXQVJEOiBcImJhY2t3YXJkXCJcblx0TE9PS0FUOiBcImxvb2thdFwiXG5cdE5PUlRIOiBcIm5vcnRoXCJcblxucG9pbnRPbkxpbmUgPSAodCwgYSwgYikgLT5cblx0bGF0MSA9IGEubGF0KCkudG9SYWQoKVxuXHRsbmcxID0gYS5sbmcoKS50b1JhZCgpXG5cblx0bGF0MiA9IGIubGF0KCkudG9SYWQoKVxuXHRsbmcyID0gYi5sbmcoKS50b1JhZCgpXG5cblx0eCA9IGxhdDEgKyB0ICogKGxhdDIgLSBsYXQxKTtcblx0eSA9IGxuZzEgKyB0ICogKGxuZzIgLSBsbmcxKTtcblxuXHRyZXR1cm4gbmV3IGdvb2dsZS5tYXBzLkxhdExuZyh4LnRvRGVnKCksIHkudG9EZWcoKSlcblxuZ2V0Rm9sbG93ZWRQYXRoID0gKG0sIGEsIGIpIC0+XG5cdGQgPSBnb29nbGUubWFwcy5nZW9tZXRyeS5zcGhlcmljYWwuY29tcHV0ZURpc3RhbmNlQmV0d2VlbihhLCBiKVxuXG5cdGlmIG0gPCAwIHx8IGQgPCBtXG5cdFx0YWxlcnQoXCJlcnJvciBnZXRGb2xvd2VkUGF0aFwiKVxuXG5cdHQgPSBtIC8gZFxuXG5cdHJldHVybiBwb2ludE9uTGluZSh0LCBhLCBiKVxuXG4jIGh0dHA6Ly9oaWRlaWNoaS5jb20vYXJjaGl2ZXMvOTRcbnVuaXF1ZUlEID0gLT5cblx0cmFuZGFtID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjEwMDApXG5cdGRhdGUgPSBuZXcgRGF0ZSgpXG5cdHRpbWUgPSBkYXRlLmdldFRpbWUoKVxuXHRyZXR1cm4gcmFuZGFtICsgdGltZS50b1N0cmluZygpXG5cbmNsYXNzIEdTVkh5cGVybGFwc2VcblxuXHQjIGNvbnN0XG5cdEBESVNUX0JFVFdFRU5fUFRTID0gNVxuXHRATUFYX1BUUyA9IDEwMFxuXG5cdCMgc3RhdGljIHZhclxuXHRAZGlyU2VydmljZSA9IG5ldyBnb29nbGUubWFwcy5EaXJlY3Rpb25zU2VydmljZSh7fSlcblx0QGRpclJlZ2V4ID0gL2RpclxcLyhbMC05Li1dKiksKFswLTkuLV0qKVxcLyhbMC05Li1dKiksKFswLTkuLV0qKVxcL0AoWzAtOS4tXSopLChbMC05Li1dKiksKFswLTldKil6XFwvZGF0YT0oLiopJC9cblx0QGRhdGFSZWdleCA9IC8hMWQoWzAtOS4tXSopITJkKFswLTkuLV0qKS9nXG5cdEBkYXRhTGF0TG5nUmVnZXggPSAvITFkKFswLTkuLV0qKSEyZChbMC05Li1dKikvXG5cblx0IyBsb2FkZXJcblx0QGxkciA9IG5ldyBHU1ZQQU5PLlBhbm9Mb2FkZXIoKVxuXHRAbGRyU3RhY2sgPSBbXVxuXG5cdF9jbGFzcyA9IEBcblxuXHQjIGV2ZW50XG5cdEBvbkVycm9yIFx0XHRcdD0gKGVycikgLT4gYWxlcnQoXCJlcnJvclwiKVxuXHRAb25NZXNzYWdlXHRcdFx0PSAoKSAtPiBudWxsXG5cdEBvblBhbm9yYW1hTG9hZCBcdD0gKCkgLT4gbnVsbFxuXHRAb25BbmFseXplQ29tcGxldGVcdD0gKCkgLT4gbnVsbFxuXHRAb25Db21wb3NlQ29tcGxldGUgID0gKCkgLT4gbnVsbFxuXHRAb25Qcm9ncmVzc1x0XHRcdD0gKCkgLT4gbnVsbFxuXHRAb25DYW5jZWwgXHRcdFx0PSAoKSAtPiBudWxsXG5cblx0IyBjb25zdHJ1Y3RvclxuXHRjb25zdHJ1Y3RvcjogKG5hbWUsIG1hcCkgLT5cblx0XHRAbmFtZSA9IG5hbWVcblxuXHRcdEBiQ2FuY2VsID0gZmFsc2Vcblx0XHRAYldhaXRpbmcgPSBmYWxzZVxuXHRcdEB1bmlxdWVJZCA9IHVuaXF1ZUlEKClcblx0XHRAcGFub0xpc3QgPSBbXVxuXHRcdEBjbGllbnQgPSBuZXcgZ29vZ2xlLm1hcHMuU3RyZWV0Vmlld1NlcnZpY2UoKVxuXHRcdEBtYXAgPSBuZXcgZ29vZ2xlLm1hcHMuTWFwIG1hcCxcblx0XHRcdG1hcFR5cGVJZDogZ29vZ2xlLm1hcHMuTWFwVHlwZUlkLlJPQURNQVBcblx0XHRcdHpvb206IDE2XG5cblx0XHRAcmVwb3J0ID0ge31cblxuXHQjIG1ldGhvZHNcblx0Y2FuY2VsOiAtPlxuXHRcdEBiQ2FuY2VsID0gdHJ1ZVxuXHRcdGlmICFAYldhaXRpbmdcblx0XHRcdF9jbGFzcy5vbkNhbmNlbC5jYWxsIEBcblxuXHQjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cdCMgY2xhc3MgbWV0aG9kXG5cdGNyZWF0ZVBhbm9EYXRhOiAocmVzKSAtPlxuXHRcdHJldHVybiB7XG5cdFx0XHRpZDogcmVzLmxvY2F0aW9uLnBhbm9cblx0XHRcdHJvdGF0aW9uOiByZXMudGlsZXMuY2VudGVySGVhZGluZyMgKiBNYXRoLlBJIC8gMTgwLjBcblx0XHRcdHBpdGNoOiByZXMudGlsZXMub3JpZ2luUGl0Y2gjICogTWF0aC5QSSAvIDE4MC4wXG5cdFx0XHRsYXRMbmc6IHJlcy5sb2NhdGlvbi5sYXRMbmdcblx0XHRcdGRhdGU6IHJlcy5pbWFnZURhdGVcblx0XHR9XG5cblx0c2V0UGFyYW1ldGVyczogKHBhcmFtcykgLT5cblxuXHRcdEBtZXRob2QgXHRcdD0gcGFyYW1zLm1ldGhvZFxuXHRcdEB0cmF2ZWxNb2RlIFx0PSBwYXJhbXMudHJhdmVsTW9kZVxuXHRcdEBzdGVwIFx0XHRcdD0gcGFyc2VGbG9hdChwYXJhbXMuc3RlcClcblx0XHRAc2VhcmNoUmFkaXVzXHQ9IHBhcnNlRmxvYXQocGFyYW1zLnNlYXJjaFJhZGl1cylcblx0XHRAaGVhZGluZ01vZGVcdD0gcGFyYW1zLmhlYWRpbmdNb2RlXG5cdFx0QHpvb20gXHRcdFx0PSBwYXJhbXMuem9vbVxuXG5cdFx0IyBjaGVjayBoZWFkaW5nTW9kZVxuXHRcdGlmIEBoZWFkaW5nTW9kZSA9PSBHU1ZIeXBlcmxhcHNlSGVhZGluZy5MT09LQVRcblx0XHRcdHJlc3VsdCA9IC8oWzAtOS5dKyksIChbMC05Ll0rKS8uZXhlYyggcGFyYW1zLmxvb2thdCApXG5cdFx0XHRpZiAhKHJlc3VsdD8pXG5cdFx0XHRcdGFsZXJ0KFwibG9va2F0IGxhdExuZyBjYW5ub3QgYmUgcGFyc2VkXCIpXG5cdFx0XHRcdHJldHVyblxuXHRcdFx0QGxvb2thdCA9IG5ldyBnb29nbGUubWFwcy5MYXRMbmcoIHJlc3VsdFsxXSwgcmVzdWx0WzJdIClcblxuXHRcdGVsc2UgaWYgQGhhZWFkaW5nTW9kZSA9PSBHU1ZIeXBlcmxhcHNlSGVhZGluZy5CQUNLV0FSRFxuXHRcdFx0XHRpZiBAcGFub0xpc3QubGVuZ3RoIDwgMlxuXHRcdFx0XHRcdGFsZXJ0KFwiY2Fubm90IHNvbHZlIGJhY2t3YXJkIGhlYWRpbmcgYmVjYXVzZSBwYW5vIGxlbmd0aCBpcyBsZXNzIHRoYW4gMi5cIilcblx0XHRcdFx0XHRyZXR1cm5cblxuXHQjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cdGNyZWF0ZUZyb21EaXJlY3Rpb246ICh1cmwpLT5cblxuXHRcdHJhd1B0cyA9IFtdXG5cdFx0cm91dGVSZXMgPSBudWxsXG5cdFx0cHJldklkID0gJydcblxuXHRcdEByZXBvcnQuc2V0dGluZ3MgPVxuXHRcdFx0XCJcIlwiXG5cdFx0XHRtZXRob2Q6IGRpcmVjdGlvblxuXHRcdFx0dXJsOiAje3VybH1cblx0XHRcdHN0ZXA6ICN7QHN0ZXB9XG5cdFx0XHRzZWFyY2hSYWRpdXM6ICN7QHNlYXJjaFJhZGl1c31cblx0XHRcdFwiXCJcIlxuXG5cdFx0IyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXHRcdCMgMS4gcmVxdWVzdCByb3V0ZVxuXHRcdHJlcXVlc3RSb3V0ZSA9ID0+XG5cdFx0XHQjIHBhcnNlIHVybFxuXHRcdFx0cmVzdWx0ID0gX2NsYXNzLmRpclJlZ2V4LmV4ZWMoIHVybCApXG5cblx0XHRcdGlmICFyZXN1bHQ/XG5cdFx0XHRcdGFsZXJ0IFwiY2Fubm90IHBhcnNlIHVybFwiXG5cdFx0XHRcdHJldHVyblxuXG5cdFx0XHRvcmlnaW4gICAgICA9IG5ldyBnb29nbGUubWFwcy5MYXRMbmcoIHJlc3VsdFsxXSwgcmVzdWx0WzJdIClcblx0XHRcdGRlc3RpbmF0aW9uXHQ9IG5ldyBnb29nbGUubWFwcy5MYXRMbmcoIHJlc3VsdFszXSwgcmVzdWx0WzRdIClcblx0XHRcdGNlbnRlciAgICAgID0gbmV3IGdvb2dsZS5tYXBzLkxhdExuZyggcmVzdWx0WzVdLCByZXN1bHRbNl0gKVxuXHRcdFx0em9vbSAgICAgICAgPSBwYXJzZUludChyZXN1bHRbN10pXG5cblx0XHRcdEBtYXAuc2V0Wm9vbSggem9vbSApXG5cdFx0XHRAbWFwLnNldENlbnRlciggY2VudGVyIClcblxuXHRcdFx0cmVxID1cblx0XHRcdFx0b3JpZ2luOiBvcmlnaW5cblx0XHRcdFx0ZGVzdGluYXRpb246IGRlc3RpbmF0aW9uXG5cdFx0XHRcdHRyYXZlbE1vZGU6IHRyYXZlbE1vZGVcblxuXHRcdFx0IyBwYXJzZSB3YXlwb2ludCBmcm9tIGRhdGFcblx0XHRcdHdheXBvaW50cyA9IFtdXG5cdFx0XHRcblx0XHRcdGlmIChyZXN1bHQgPSByZXN1bHRbOF0ubWF0Y2goIEdTVkh5cGVybGFwc2UuZGF0YVJlZ2V4ICkpP1xuXHRcdFx0XHRmb3IgaSwgciBvZiByZXN1bHRcblx0XHRcdFx0XHRtID0gR1NWSHlwZXJsYXBzZS5kYXRhTGF0TG5nUmVnZXguZXhlYyggciApXG5cdFx0XHRcdFx0d3AgPSBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKCBtWzJdLCBtWzFdIClcblx0XHRcdFx0XHR3YXlwb2ludHMucHVzaFxuXHRcdFx0XHRcdFx0bG9jYXRpb246IHdwLnRvU3RyaW5nKClcblx0XHRcdFx0XHRcdHN0b3BvdmVyOiBmYWxzZVxuXG5cdFx0XHRcdHJlcS53YXlwb2ludHMgPSB3YXlwb2ludHNcblxuXHRcdFx0R1NWSHlwZXJsYXBzZS5kaXJTZXJ2aWNlLnJvdXRlIHJlcSwgKHJlcywgc3RhdHVzKSA9PlxuXG5cdFx0XHRcdGlmIHN0YXR1cyA9PSBnb29nbGUubWFwcy5EaXJlY3Rpb25zU3RhdHVzLk9LXG5cdFx0XHRcdFx0cm91dGVSZXMgPSByZXNcblx0XHRcdFx0XHQjIG5leHRcblx0XHRcdFx0XHRzdWJkaXZpZGVSb3V0ZSgpXG5cdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRfY2xhc3Mub25NZXNzYWdlLmNhbGwgQCwgXCJjYW5ub3QgZ2V0IHJvdXRlLlwiXG5cblx0XHQjID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cdFx0IyAyLiBzdWJkaXZpZGUgcm91dGVcblx0XHRzdWJkaXZpZGVSb3V0ZSA9ICgpID0+XG5cblx0XHRcdGlmIEBiQ2FuY2VsXG5cdFx0XHRcdF9jbGFzcy5vbkNhbmNlbC5jYWxsIEBcblx0XHRcdFx0cmV0dXJuXG5cblx0XHRcdF9jbGFzcy5vbk1lc3NhZ2UuY2FsbCBALCBcInJlcXVlc3Rpbmcgcm91dGUuLlwiXG5cdFx0XHRfY2xhc3Mub25NZXNzYWdlLmNhbGwgQCwgXCJhbmFseXppbmcgcm91dGUuLlwiXG5cblx0XHRcdCMgZ2V0IHBvaW50c1xuXHRcdFx0cm91dGUgPSByb3V0ZVJlcy5yb3V0ZXNbMF1cblx0XHRcdHBhdGggPSByb3V0ZS5vdmVydmlld19wYXRoXG5cblx0XHRcdCMgc2hvdyBpbmZvXG5cdFx0XHRfY2xhc3Mub25NZXNzYWdlLmNhbGwgQCwgXCJwYXRoIGxlbmd0aDogI3twYXJzZUludChnb29nbGUubWFwcy5nZW9tZXRyeS5zcGhlcmljYWwuY29tcHV0ZUxlbmd0aChwYXRoKSl9KG0pLCBzdGVwOiAje0BzdGVwfShtKSwgc2VhcmNoIHJhZGl1czogI3tAc2VhcmNoUmFkaXVzfSAobSlcIlxuXHRcdFx0XG5cblx0XHRcdGNvbnNvbGUubG9nIHBhdGhcblxuXHRcdFx0ZCA9IDAgIyBkaXN0YW5jZSBiZXR3ZWVuIGEgYW5kIGIgKG0pXG5cdFx0XHRyID0gMCAjIGFsd2F5cyBtdXN0IGJlIDwgc3RlcFxuXHRcdFx0bSA9IDAgIyBjdXJyZW50IG1pZHBvaW50XG5cdFx0XHRhID0gYiA9IG51bGxcblxuXHRcdFx0IyByZXRyaXZlIHRvIHdheSBwb2ludHNcblx0XHRcdGZvciBpIGluIFswLi5wYXRoLmxlbmd0aC0yXVxuXG5cdFx0XHRcdGEgPSBwYXRoW2ldXG5cdFx0XHRcdGIgPSBwYXRoW2krMV1cblx0XHRcdFx0ZCA9IGdvb2dsZS5tYXBzLmdlb21ldHJ5LnNwaGVyaWNhbC5jb21wdXRlRGlzdGFuY2VCZXR3ZWVuKGEsIGIpXG5cblx0XHRcdFx0IyBvZmZzZXQgLXJcblx0XHRcdFx0bSA9IC1yICsgQHN0ZXBcblxuXHRcdFx0XHRpZiBkIDwgbVxuXHRcdFx0XHRcdHIgKz0gZFxuXHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0IyBzdWJkaXZpZGVcblx0XHRcdFx0XHR3aGlsZSBtIDwgZFxuXHRcdFx0XHRcdFx0cHQgPSBnZXRGb2xsb3dlZFBhdGgobSwgYSwgYilcblx0XHRcdFx0XHRcdHJhd1B0cy5wdXNoKCBwdCApXG5cdFx0XHRcdFx0XHRtICs9IEBzdGVwXG5cblx0XHRcdFx0XHRyID0gQHN0ZXAgLSAobSAtIGQpXG5cblx0XHRcdCMgZml0IGJvdW5kIGFuZCBhZGQgcG9seWxpbmVcblx0XHRcdEBtYXAuZml0Qm91bmRzKCByb3V0ZS5ib3VuZHMgKVxuXHRcdFx0cGF0aCA9IG5ldyBnb29nbGUubWFwcy5Qb2x5bGluZVxuXHRcdFx0XHRwYXRoOiBwYXRoXG5cdFx0XHRcdGdlb2Rlc2ljOiB0cnVlXG5cdFx0XHRcdHN0cm9rZUNvbG9yOiAnIzAwMDAwMCdcblx0XHRcdFx0c3Ryb2tlT3BhY2l0eTogMS4wXG5cdFx0XHRcdHN0cm9rZVdlaWdodDogMlxuXHRcdFx0cGF0aC5zZXRNYXAoIEBtYXAgKVxuXG5cdFx0XHRfY2xhc3Mub25NZXNzYWdlLmNhbGwgQCwgXCJudW0gb2Ygd2F5cG9pbnRzOiAje3Jhd1B0cy5sZW5ndGh9XCJcblxuXHRcdFx0IyBuZXh0XG5cdFx0XHRyZXRyaXZlUGFub0RhdGEoKVxuXG5cdFx0IyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXHRcdCMgMy4gcmV0cml2ZSBwYW5vIGRhdGEgYW5kIHNwbGljZSBkdXBsaWNhdGVkIGlkXG5cdFx0cmV0cml2ZVBhbm9EYXRhID0gPT5cblx0XHRcdF9jbGFzcy5vbk1lc3NhZ2UuY2FsbCBALCBcInJldHJpdmluZyBwYW5vIGlkLi5cIlxuXG5cdFx0XHRpZHggPSAwXG5cblx0XHRcdG9uTG9hZCA9IChyZXMsIHN0YXR1cykgPT5cblx0XHRcdFx0aWYgQGJDYW5jZWxcblx0XHRcdFx0XHRfY2xhc3Mub25DYW5jZWwuY2FsbCBAXG5cdFx0XHRcdFx0cmV0dXJuXG5cblx0XHRcdFx0aWYgc3RhdHVzID09IGdvb2dsZS5tYXBzLlN0cmVldFZpZXdTdGF0dXMuT0tcblxuXHRcdFx0XHRcdHBhbm8gPSBAY3JlYXRlUGFub0RhdGEoIHJlcyApXG5cblx0XHRcdFx0XHRpZiBwYW5vLmlkICE9IHByZXZJZFxuXHRcdFx0XHRcdFx0QHBhbm9MaXN0LnB1c2goIHBhbm8gKVxuXHRcdFx0XHRcdFx0bWFya2VyID0gbmV3IGdvb2dsZS5tYXBzLk1hcmtlclxuXHRcdFx0XHRcdFx0XHRwb3NpdGlvbjogcGFuby5sYXRMbmdcblx0XHRcdFx0XHRcdFx0bWFwOiBAbWFwXG5cdFx0XHRcdFx0XHRcdHRpdGxlOiBcIiN7aWR4fVwiXG5cblx0XHRcdFx0XHRcdHByZXZJZCA9IHBhbm8uaWRcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nIHBhbm8uaWRcblxuXHRcdFx0XHRfY2xhc3Mub25Qcm9ncmVzcy5jYWxsIEAsIGlkeCwgcmF3UHRzLmxlbmd0aFxuXG5cdFx0XHRcdGlmICsraWR4IDwgcmF3UHRzLmxlbmd0aFxuXHRcdFx0XHRcdCMgbmV4dFxuXHRcdFx0XHRcdEBjbGllbnQuZ2V0UGFub3JhbWFCeUxvY2F0aW9uKHJhd1B0c1tpZHhdLCBAc2VhcmNoUmFkaXVzLCBvbkxvYWQpXG5cdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHQjIGVuZFxuXHRcdFx0XHRcdGNvbnNvbGUubG9nIEBwYW5vTGlzdFxuXHRcdFx0XHRcdEBiV2FpdGluZyA9IGZhbHNlXG5cdFx0XHRcdFx0X2NsYXNzLm9uTWVzc2FnZS5jYWxsIEAsIFwidG90YWwgcGFubyBpZDogI3tAcGFub0xpc3QubGVuZ3RofVwiXG5cdFx0XHRcdFx0X2NsYXNzLm9uUHJvZ3Jlc3MuY2FsbCBALCBpZHgsIHJhd1B0cy5sZW5ndGhcblx0XHRcdFx0XHRfY2xhc3Mub25BbmFseXplQ29tcGxldGUuY2FsbCBAXG5cblx0XHRcdCMgaW5pdCBHU1ZQYW5vXG5cdFx0XHRAYldhaXRpbmcgPSB0cnVlXG5cdFx0XHRwcmV2SWQgPSAnJ1xuXHRcdFx0QGNsaWVudC5nZXRQYW5vcmFtYUJ5TG9jYXRpb24ocmF3UHRzW2lkeF0sIEBzZWFyY2hSYWRpdXMsIG9uTG9hZClcblxuXHRcdCMgdHJpZ2dlclxuXHRcdHJlcXVlc3RSb3V0ZSgpXG5cblx0IyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXHRjcmVhdGVGcm9tUGFub0lkOiAobGlzdCkgLT5cblxuXHRcdGlkeCA9IDBcblxuXHRcdEByZXBvcnQuc2V0dGluZ3MgPVxuXHRcdFx0XCJcIlwiXG5cdFx0XHRtZXRob2Q6IHBhbm9pZFxuXHRcdFx0XCJcIlwiXG5cblx0XHRfY2xhc3Mub25NZXNzYWdlLmNhbGwgQCwgXCJzdGFydCBjb21wb3NlPGJyPmhlYWRpbmdNb2RlOiN7QGhlYWRpbmdNb2RlfVwiXG5cblx0XHRvbkxvYWQgPSAocmVzLCBzdGF0dXMpPT5cblx0XHRcdGlmIGlkeCA9PSAwXG5cdFx0XHRcdF9jbGFzcy5vbk1lc3NhZ2UuY2FsbCBALCBcImFuYWx5emluZy4uXCJcdFxuXG5cdFx0XHRpZiBzdGF0dXMgPT0gZ29vZ2xlLm1hcHMuU3RyZWV0Vmlld1N0YXR1cy5PS1xuXHRcdFx0XHRpZiBAYkNhbmNlbFxuXHRcdFx0XHRcdF9jbGFzcy5vbkNhbmNlbC5jYWxsIEBcblx0XHRcdFx0XHRyZXR1cm5cblxuXHRcdFx0XHRwYW5vID0gQGNyZWF0ZVBhbm9EYXRhKCByZXMgKVxuXHRcdFx0XHRAcGFub0xpc3QucHVzaCggcGFubyApXG5cblx0XHRcdFx0aWYgaWR4ID09IDBcblx0XHRcdFx0XHRAbWFwLnNldENlbnRlciggcGFuby5sYXRMbmcgKVxuXHRcdFx0XHRcdEBtYXAuc2V0Wm9vbSggMTMgKVxuXG5cdFx0XHRcdG1hcmtlciA9IG5ldyBnb29nbGUubWFwcy5NYXJrZXJcblx0XHRcdFx0XHRwb3NpdGlvbjogcGFuby5sYXRMbmdcblx0XHRcdFx0XHRtYXA6IEBtYXBcblx0XHRcdFx0XHR0aXRsZTogXCIje2lkeH1cIlxuXG5cdFx0XHRcdF9jbGFzcy5vblByb2dyZXNzLmNhbGwgQCwgaWR4LCBsaXN0Lmxlbmd0aFxuXG5cdFx0XHRcdGlmICsraWR4IDwgbGlzdC5sZW5ndGhcblx0XHRcdFx0XHQjIG5leHRcblx0XHRcdFx0XHRAY2xpZW50LmdldFBhbm9yYW1hQnlJZChsaXN0W2lkeF0sIG9uTG9hZClcblx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdCMgZW5kXG5cdFx0XHRcdFx0QGJXYWl0aW5nID0gZmFsc2Vcblx0XHRcdFx0XHRfY2xhc3Mub25NZXNzYWdlLmNhbGwgQCwgXCJ0b3RhbCBwYW5vIGlkOiAje0BwYW5vTGlzdC5sZW5ndGh9XCJcblx0XHRcdFx0XHRfY2xhc3Mub25Qcm9ncmVzcy5jYWxsIEAsIGlkeCwgbGlzdC5sZW5ndGhcblx0XHRcdFx0XHRfY2xhc3Mub25BbmFseXplQ29tcGxldGUuY2FsbCBAXG5cdFx0XHRcblx0XHRcdGVsc2Vcblx0XHRcdFx0YWxlcnQgXCJlcnJvciBvbiBjcmVhdGVGcm9tUGFub0lkKCkgOiAje3N0YXR1c31cIlxuXG5cdFx0IyB0cmlnZ2VyXG5cblx0XHRAYldhaXRpbmcgPSB0cnVlXG5cdFx0QGNsaWVudC5nZXRQYW5vcmFtYUJ5SWQobGlzdFtpZHhdLCBvbkxvYWQpXG5cblx0IyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXHRjb21wb3NlOiAoKS0+XG5cblx0XHRpZiBAcGFub0xpc3QubGVuZ3RoID09IDBcblx0XHRcdF9jbGFzcy5vbk1lc3NhZ2UuY2FsbCBALCBcInRoZXJlIGlzIG5vIHBhbm8gaWRcIlxuXHRcdFx0cmV0dXJuXG5cblxuXHRcdGxvYWRlciA9IG5ldyBHU1ZQQU5PLlBhbm9Mb2FkZXJcblx0XHRcdHpvb206IEB6b29tXG5cblx0XHQjIGFkZCByZXBvcnRcblx0XHRAcmVwb3J0LnBhbm9JZHMgPSBKU09OLnN0cmluZ2lmeSggKHBhbm8uaWQgZm9yIHBhbm8gaW4gQHBhbm9MaXN0KSApXG5cdFx0QHJlcG9ydC5wYW5vTGlzdCA9IEpTT04uc3RyaW5naWZ5KCBAcGFub0xpc3QgKVxuXG5cdFx0IyBzZXR1cCBjYW52YXNcblx0XHRAdGFnQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJylcblx0XHRAdGFnQ2FudmFzLndpZHRoID0gbG9hZGVyLndpZHRoXG5cdFx0QHRhZ0NhbnZhcy5oZWlnaHQgPSBUQUdfSEVJR0hUXG5cdFx0QHRhZ0N0eFx0PSBAdGFnQ2FudmFzLmdldENvbnRleHQoJzJkJylcblxuXHRcdEBnbHNsID0gR2xzbFxuXHRcdFx0Y2FudmFzOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKVxuXHRcdFx0ZnJhZ21lbnQ6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGFuby1yb3RhdGlvblwiKS50ZXh0Q29udGVudFxuXHRcdFx0dmFyaWFibGVzOlxuXHRcdFx0XHRoZWFkaW5nOiAgMC4wXG5cdFx0XHRcdHBpdGNoOiAwLjBcblx0XHRcdFx0b3JpZ2luYWw6IGxvYWRlci5jYW52YXNcblx0XHRcdFx0dGFnOiBAdGFnQ2FudmFzXG5cblx0XHRAZ2xzbC5zZXRTaXplKGxvYWRlci53aWR0aCwgbG9hZGVyLmhlaWdodCArIFRBR19IRUlHSFQpXG5cblx0XHRfY2xhc3Mub25NZXNzYWdlLmNhbGwgQCwgXCJjb21wb3NpbmcgcGFub3JhbWEuLiBzaXplOiN7bG9hZGVyLndpZHRofXgje2xvYWRlci5oZWlnaHR9XCJcblxuXHRcdHdyaXRlVG9UYWcgPSAobmFtZSwgdmFsdWUsIHgsIHkpID0+XG5cdFx0XHRAdGFnQ3R4LmZpbGxTdHlsZSA9ICcjZmZmZmZmJ1xuXHRcdFx0QHRhZ0N0eC5maWxsVGV4dCh2YWx1ZSwgeCArIDQwLCB5KVxuXHRcdFx0QHRhZ0N0eC5maWxsU3R5bGUgPSAnI2ZmMDAwMCdcblx0XHRcdEB0YWdDdHguZmlsbFRleHQobmFtZSwgeCwgeSlcblxuXHRcdG9uQ29tcG9zZSA9ID0+XG5cblx0XHRcdGlmIEBiQ2FuY2VsXG5cdFx0XHRcdF9jbGFzcy5vbkNhbmNlbC5jYWxsIEBcblx0XHRcdFx0cmV0dXJuXG5cblx0XHRcdCMgY2FsYyByb3RhdGlvblxuXHRcdFx0YWp1c3RIZWFkaW5nID0gQHBhbm9MaXN0W2lkeF0ucm90YXRpb25cblx0XHRcdGFqdXN0UGl0Y2ggPSAwXG5cblx0XHRcdGhlYWRpbmcgPSAwXG5cblx0XHRcdGlmIEBoZWFkaW5nTW9kZSA9PSBHU1ZIeXBlcmxhcHNlSGVhZGluZy5CQUNLV0FSRFxuXHRcdFx0XHRpID0gaWYgaWR4ID09IDAgdGhlbiAxIGVsc2UgaWR4XG5cdFx0XHRcdGhlYWRpbmcgPSBnb29nbGUubWFwcy5nZW9tZXRyeS5zcGhlcmljYWwuY29tcHV0ZUhlYWRpbmcoXG5cdFx0XHRcdFx0QHBhbm9MaXN0W2ldLmxhdExuZywgQHBhbm9MaXN0W2ktMV0ubGF0TG5nIClcblxuXHRcdFx0ZWxzZSBpZiBAaGVhZGluZ01vZGUgPT0gR1NWSHlwZXJsYXBzZUhlYWRpbmcuTE9PS0FUXG5cdFx0XHRcdGhlYWRpbmcgPSBnb29nbGUubWFwcy5nZW9tZXRyeS5zcGhlcmljYWwuY29tcHV0ZUhlYWRpbmcoXG5cdFx0XHRcdFx0QHBhbm9MaXN0W2lkeF0ubGF0TG5nLCBAbG9va2F0KVxuXG5cdFx0XHRjb25zb2xlLmxvZyBoZWFkaW5nXG5cblx0XHRcdGFqdXN0SGVhZGluZyAtPSBoZWFkaW5nXG5cblx0XHRcdCMgZHJhdyB0YWdcblx0XHRcdEB0YWdDdHguZmlsbFN0eWxlID0gJyMwMDAwMDAnXG5cdFx0XHRAdGFnQ3R4LmZpbGxSZWN0KDAsIDAsIEB0YWdDYW52YXMud2lkdGgsIEB0YWdDYW52YXMuaGVpZ2h0KVxuXHRcdFx0QHRhZ0N0eC5maWxsU3R5bGUgPSAnI2ZmZmZmZidcblx0XHRcdEB0YWdDdHguZm9udCA9ICcxMnB4IEFyaWFsJ1xuXG5cdFx0XHRjb25zb2xlLmxvZyBoZWFkaW5nXG5cblx0XHRcdGN1cnNvciA9IDBcblxuXHRcdFx0d3JpdGVUb1RhZyhcInVpZFwiLCAgICAgXCIje0B1bmlxdWVJZH1cIiwgY3Vyc29yKysgKiAweGZmLCAzNilcdFxuXHRcdFx0d3JpdGVUb1RhZyhcInBhbm9pZFwiLCAgXCIje0BwYW5vTGlzdFtpZHhdLmlkfVwiLCBjdXJzb3IrKyAqIDB4ZmYsIDM2KVx0XHRcdFx0XHRcdFxuXHRcdFx0d3JpdGVUb1RhZyhcImxhdFwiLCAgICAgXCIje0BwYW5vTGlzdFtpZHhdLmxhdExuZy5sYXQoKS50b1ByZWNpc2lvbigxNyl9XCIsIGN1cnNvcisrICogMHhmZiwgMzYpXHRcblx0XHRcdHdyaXRlVG9UYWcoXCJsbmdcIiwgICAgIFwiI3tAcGFub0xpc3RbaWR4XS5sYXRMbmcubG5nKCkudG9QcmVjaXNpb24oMTcpfVwiLCBjdXJzb3IrKyAqIDB4ZmYsIDM2KVx0XG5cdFx0XHR3cml0ZVRvVGFnKFwiaGVhZFwiLCAgICBcIiN7aGVhZGluZy50b1ByZWNpc2lvbigxNyl9XCIsIGN1cnNvcisrICogMHhmZiwgMzYpXHRcdFx0XHRcdFx0XHRcblx0XHRcdHdyaXRlVG9UYWcoXCJkYXRlXCIsICAgIFwiI3tAcGFub0xpc3RbaWR4XS5kYXRlfVwiLCBjdXJzb3IrKyAqIDB4ZmYsIDM2KVx0XG5cblx0XHRcdGN1cnNvciA9IDBcblx0XHRcdHdyaXRlVG9UYWcoXCJ6b29tXCIsICAgICBcIiN7QHpvb219XCIsIGN1cnNvcisrICogMHhmZiwgMTgpXG5cdFx0XHR3cml0ZVRvVGFnKFwiYWpfaFwiLCBcdCAgIFwiI3thanVzdEhlYWRpbmcudG9QcmVjaXNpb24oMTcpfVwiLCBjdXJzb3IrKyAqIDB4ZmYsIDE4KVxuXHRcdFx0d3JpdGVUb1RhZyhcImFqX3BcIiwgICAgIFwiI3thanVzdFBpdGNoLnRvUHJlY2lzaW9uKDE3KX1cIiwgY3Vyc29yKysgKiAweGZmLCAxOClcblxuXHRcdFx0IyByb3RhdGUgdGV4dHVyZVxuXHRcdFx0QGdsc2wuc2V0KCdoZWFkaW5nJywgYWp1c3RIZWFkaW5nLnRvUmFkKCkpXG5cdFx0XHRAZ2xzbC5zZXQoJ3BpdGNoJywgXHQgYWp1c3RQaXRjaC50b1JhZCgpKVxuXHRcdFx0QGdsc2wuc3luY0FsbCgpXG5cdFx0XHRAZ2xzbC5yZW5kZXIoKVxuXG5cdFx0XHQjIGV2ZW50XG5cdFx0XHRfY2xhc3Mub25Qcm9ncmVzcy5jYWxsIEAsIGlkeCwgQHBhbm9MaXN0Lmxlbmd0aFxuXHRcdFx0X2NsYXNzLm9uUGFub3JhbWFMb2FkLmNhbGwgQCwgaWR4LCBAZ2xzbC5jYW52YXNcblxuXHRcdFx0aWYgKytpZHggPCBAcGFub0xpc3QubGVuZ3RoXG5cdFx0XHRcdCMgbmV4dCBmcmFtZVxuXHRcdFx0XHRzZXRUaW1lb3V0ID0+XG5cdFx0XHRcdFx0bG9hZGVyLmNvbXBvc2VQYW5vcmFtYSggQHBhbm9MaXN0W2lkeF0uaWQgKVxuXHRcdFx0XHQsIDEwMFxuXHRcdFx0ZWxzZVxuXHRcdFx0XHRAYldhaXRpbmcgPSBmYWxzZVxuXHRcdFx0XHRjb25zb2xlLmxvZyBcImNvbXBsZXRlXCJcblx0XHRcdFx0X2NsYXNzLm9uUHJvZ3Jlc3MuY2FsbCBALCBpZHgsIEBwYW5vTGlzdC5sZW5ndGhcblx0XHRcdFx0X2NsYXNzLm9uTWVzc2FnZS5jYWxsIEAsIFwiY29tcGxldGUgLSB0b3RhbDogI3tAcGFub0xpc3QubGVuZ3RofSwgZHVyYXRpb246ICN7QHBhbm9MaXN0Lmxlbmd0aCAvIDI0fVwiXG5cdFx0XHRcdF9jbGFzcy5vbkNvbXBvc2VDb21wbGV0ZS5jYWxsIEBcblxuXHRcdCMgdHJpZ2dlclxuXHRcdGxvYWRlci5vblBhbm9yYW1hTG9hZCA9IG9uQ29tcG9zZVxuXHRcdGxvYWRlci5vbkVycm9yID0gKG1zZykgLT5cblx0XHRcdGFsZXJ0IFwiZXJyb3Igb25Db21wb3NlKCkgOiAje21zZ31cIlxuXHRcdGxvYWRlci5vbk5vUGFub3JhbWFEYXRhID0gKHN0YXR1cykgLT5cblx0XHRcdGFsZXJ0IFwiZXJyb3Igb25Ob1Bhbm9yYW1hRGF0YSgpIDogI3tzdGF0dXN9XCJcblx0XG5cdFx0aWR4ID0gMFxuXHRcdEBiV2FpdGluZyA9IHRydWVcblxuXHRcdGxvYWRlci5jb21wb3NlUGFub3JhbWEoIEBwYW5vTGlzdFtpZHhdLmlkIClcblxuIl19