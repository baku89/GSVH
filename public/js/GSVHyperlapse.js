var API_KEY, GSVHyperlapse, TAG_HEIGHT, getFollowedPath, pointOnLine,
  slice = [].slice;

Number.prototype.toRad = function() {
  return this * Math.PI / 180;
};

Number.prototype.toDeg = function() {
  return this * 180 / Math.PI;
};

API_KEY = "AIzaSyBQ2dzDfyF8Y0Dwe-Q6Jzx4_G62ANrTotQ";

TAG_HEIGHT = 40;

pointOnLine = function(t, a, b) {
  var lat1, lat2, lng1, lng2, x, y;
  lat1 = a.lat().toRad();
  lng1 = a.lng().toRad();
  lat2 = b.lat().toRad();
  lng2 = b.lng().toRad();
  x = lat1 + t * (lat2 - lat1);
  y = lng1 + t * (lng2 - lng1);
  return new google.maps.LatLng(x.toDeg(), y.toDeg());
};

getFollowedPath = function(m, a, b) {
  var d, t;
  d = google.maps.geometry.spherical.computeDistanceBetween(a, b);
  if (m < 0 || d < m) {
    alert("error getFolowedPath");
  }
  t = m / d;
  return pointOnLine(t, a, b);
};

function uniqueID(){
	var randam = Math.floor(Math.random()*1000)
	var date = new Date();
	var time = date.getTime();
	return randam + time.toString();
};

GSVHyperlapse = (function() {
  var _class;

  GSVHyperlapse.API_KEY = "AIzaSyBQ2dzDfyF8Y0Dwe-Q6Jzx4_G62ANrTotQ";

  GSVHyperlapse.DIST_BETWEEN_PTS = 5;

  GSVHyperlapse.MAX_PTS = 100;

  GSVHyperlapse.dirService = new google.maps.DirectionsService({});

  GSVHyperlapse.dirRegex = /dir\/([0-9.-]*),([0-9.-]*)\/([0-9.-]*),([0-9.-]*)\/@([0-9.-]*),([0-9.-]*),([0-9]*)z\/data=(.*)$/;

  GSVHyperlapse.dataRegex = /!1d([0-9.-]*)!2d([0-9.-]*)/g;

  GSVHyperlapse.dataLatLngRegex = /!1d([0-9.-]*)!2d([0-9.-]*)/;

  GSVHyperlapse.ldr = new GSVPANO.PanoLoader();

  GSVHyperlapse.ldrStack = [];

  _class = GSVHyperlapse;

  GSVHyperlapse.onError = function(err) {
    return alert("error");
  };

  GSVHyperlapse.onMessage = function() {
    return null;
  };

  GSVHyperlapse.onPanoramaLoad = function() {
    return null;
  };

  GSVHyperlapse.onAnalyzeComplete = function() {
    return null;
  };

  GSVHyperlapse.onProgress = function() {
    return null;
  };

  GSVHyperlapse.onCancel = function() {
    return null;
  };

  function GSVHyperlapse(args) {
    this.url = args.url;
    this.name = args.name;
    this.step = parseFloat(args.step);
    this.quality = args.zoom;
    this.bCancel = false;
    this.bWaiting = false;
    this.searchRadius = args.searchRadius;
    this.uniqueId = uniqueID();
    if (args.travelMode === 'driving') {
      this.travelMode = google.maps.DirectionsTravelMode.DRIVING;
    } else if (args.travelMode === 'walking') {
      this.travelMode = google.maps.DirectionsTravelMode.WALKING;
    }
  }

  GSVHyperlapse.prototype.setMap = function(elm) {
    return this.mapElm = elm;
  };

  GSVHyperlapse.prototype.cancel = function() {
    this.bCancel = true;
    if (!this.bWaiting) {
      return _class.onCancel.call(this);
    }
  };

  GSVHyperlapse.prototype.trace = function() {
    var args;
    args = 1 <= arguments.length ? slice.call(arguments, 0) : [];
    return console.log.apply(console, ["[" + this.name + "]"].concat(slice.call(args)));
  };

  GSVHyperlapse.prototype.traceBold = function(str) {
    return console.log("%c[" + this.name + "] " + str + " --------------------", "color:orange;font-weight:bold;");
  };

  GSVHyperlapse.prototype.create = function() {
    var data, i, m, r, req, result, wp;
    this.bWaiting = true;
    this.traceBold("create");
    result = _class.dirRegex.exec(this.url);
    if (result == null) {
      alert("unco");
      _class.onMessage.call(this, "cannot parse url");
      return;
    }
    this.origin = new google.maps.LatLng(result[1], result[2]);
    this.destination = new google.maps.LatLng(result[3], result[4]);
    this.centroid = new google.maps.LatLng(result[5], result[6]);
    this.zoom = parseInt(result[7]);
    this.trace("origin: " + this.origin, "destination: " + this.destination);
    req = {
      origin: this.origin,
      destination: this.destination,
      travelMode: this.travelMode
    };
    this.waypoints = [];
    data = result[8];
    result = data.match(GSVHyperlapse.dataRegex);
    if (result != null) {
      for (i in result) {
        r = result[i];
        m = GSVHyperlapse.dataLatLngRegex.exec(r);
        wp = new google.maps.LatLng(m[2], m[1]);
        this.waypoints.push({
          location: wp.toString(),
          stopover: false
        });
      }
      this.trace("num of waypoints:", this.waypoints.length);
      req.waypoints = this.waypoints;
    }
    this.trace("request:", req);
    this.map = new google.maps.Map(this.mapElm, {
      center: this.centroid,
      zoom: this.zoom,
      mapTypeId: google.maps.MapTypeId.ROADMAP
    });
    return GSVHyperlapse.dirService.route(req, (function(_this) {
      return function(res, status) {
        if (status === google.maps.DirectionsStatus.OK) {
          return _this.analyze(res);
        } else {
          return _class.onMessage.call(_this, "cannot get route.");
        }
      };
    })(this));
  };

  GSVHyperlapse.prototype.analyze = function(res) {
    var a, b, d, i, j, legs, m, path, pt, r, ref, route;
    if (this.bCancel) {
      _class.onCancel.call(this);
      return;
    }
    this.traceBold("analyze");
    _class.onMessage.call(this, "analyzing route..");
    this.trace(res.routes);
    this.rawPts = [];
    route = res.routes[0];
    path = route.overview_path;
    legs = route.legs;
    _class.onMessage.call(this, "<strong>path length: " + (parseInt(google.maps.geometry.spherical.computeLength(path))) + "(m), step: " + this.step + "(m), search radius: " + this.searchRadius + " (m)</strong>");
    d = 0;
    r = 0;
    m = 0;
    a = b = null;
    this.trace("total distance:", totalDist);
    for (i = j = 0, ref = path.length - 2; 0 <= ref ? j <= ref : j >= ref; i = 0 <= ref ? ++j : --j) {
      a = path[i];
      b = path[i + 1];
      d = google.maps.geometry.spherical.computeDistanceBetween(a, b);
      m = -r + this.step;
      if (d < m) {
        r += d;
      } else {
        while (m < d) {
          pt = getFollowedPath(m, a, b);
          this.rawPts.push(pt);
          m += this.step;
        }
        r = this.step - (m - d);
      }
    }
    this.trace("points:", this.rawPts.length);
    this.traceBold("fetch panoramas");
    this.map.fitBounds(route.bounds);
    path = new google.maps.Polyline({
      path: path,
      strokeColor: '#000000',
      strokeOpacity: 1.0,
      strokeWeight: 2
    });
    path.setMap(this.map);
    _class.onMessage.call(this, "num of waypoints: " + this.rawPts.length);
    return this.getPanoInfoOnWay();
  };

  GSVHyperlapse.prototype.getPanoInfoOnWay = function() {
    var idx, onError, onLoad, prevId;
    if (this.bCancel) {
      _class.onCancel.call(this);
      return;
    }
    this.loader = new GSVPANO.PanoLoader({
      zoom: this.quality,
      searchRadius: this.searchRadius
    });
    this.loader.onError = onError;
    this.loader.onNoPanoramaData = onError;
    _class.onMessage.call(this, "retriving pano id..");
    idx = 0;
    this.panoList = [];
    this.bWaiting = true;
    this.loader.load(this.rawPts[idx], onLoad);
    onError = (function(_this) {
      return function(msg) {
        return null;
      };
    })(this);
    prevId = '';
    return onLoad = (function(_this) {
      return function() {
        var id, marker, pano;
        if (_this.bCancel) {
          _class.onCancel.call(_this);
          return;
        }
        id = _this.loader.id;
        _class.onProgress.call(_this, idx, _this.rawPts.length);
        if ((id != null) && id !== prevId) {
          pano = {
            id: id,
            rotation: _this.loader.rotation,
            pitch: _this.loader.pitch,
            lat: _this.loader.location.lat(),
            lng: _this.loader.location.lng()
          };
          _this.panoList.push(pano);
          marker = new google.maps.Marker({
            position: _this.loader.location,
            map: _this.map,
            title: "" + idx
          });
          prevId = id;
        }
        if (++idx < _this.rawPts.length) {
          return _this.loader.load(_this.rawPts[idx], function() {
            return onLoad();
          });
        } else {
          _class.onMessage.call(_this, "total pano id: " + _this.panoList.length);
          _this.bWaiting = false;
          _class.onProgress.call(_this, idx, _this.rawPts.length);
          return _class.onAnalyzeComplete.call(_this);
        }
      };
    })(this);
  };

  GSVHyperlapse.prototype.compose = function() {
    var idx, onCompose, writeToTag;
    if (this.panoList.length === 0) {
      _class.onMessage.call(this, "there is no pano id");
      return;
    }
    this.tagCanvas = document.createElement('canvas');
    this.tagCanvas.width = this.loader.width;
    this.tagCanvas.height = TAG_HEIGHT;
    this.tagCtx = this.tagCanvas.getContext('2d');
    this.glsl = Glsl({
      canvas: document.createElement('canvas'),
      fragment: document.getElementById("pano-rotation").textContent,
      variables: {
        rotation: 0.0,
        pitch: 0.0,
        original: this.loader.canvas,
        tag: this.tagCanvas
      }
    });
    this.glsl.setSize(this.loader.width, this.loader.height + TAG_HEIGHT);
    _class.onMessage.call(this, "composing panorama.. size:" + this.loader.width + "x" + this.loader.height);
    this.loader.onError = function(msg) {
      return console.log(msg);
    };
    this.loader.onPanoramaLoad = onCompose;
    this.loader.onNoPanoramaData = function(status) {
      return console.log(status);
    };
    idx = 0;
    this.bWaiting = true;
    this.loader.composePanorama(this.panoList[idx].id);
    writeToTag = (function(_this) {
      return function(name, value, x, y) {
        _this.tagCtx.fillStyle = '#ffffff';
        _this.tagCtx.fillText(value, x + 40, y);
        _this.tagCtx.fillStyle = '#ff0000';
        return _this.tagCtx.fillText(name, x, y);
      };
    })(this);
    return onCompose = (function(_this) {
      return function() {
        var cursor;
        console.log(idx);
        if (_this.bCancel) {
          _class.onCancel.call(_this);
          return;
        }
        _this.tagCtx.fillStyle = '#000000';
        _this.tagCtx.fillRect(0, 0, _this.tagCanvas.width, _this.tagCanvas.height);
        _this.tagCtx.fillStyle = '#ffffff';
        _this.tagCtx.font = '12px Arial';
        cursor = 0;
        writeToTag("uid", "" + _this.uniqueId, cursor++ * 0xff, 36);
        writeToTag("lat", "" + (_this.panoList[idx].lng.toPrecision(17)), cursor++ * 0xff, 36);
        writeToTag("lng", "" + (_this.panoList[idx].lng.toPrecision(17)), cursor++ * 0xff, 36);
        writeToTag("hdng", "" + 0., cursor++ * 0xff, 36);
        writeToTag("pitch", "" + 0., cursor++ * 0xff, 36);
        writeToTag("date", "2014-04", cursor++ * 0xff, 36);
        cursor = 0;
        writeToTag("zoom", "" + _this.quality, cursor++ * 0xff, 18);
        $('body').append(_this.tagCanvas);
        _this.glsl.set('rotation', _this.panoList[idx].rotation);
        _this.glsl.set('pitch', _this.panoList[idx].pitch);
        _this.glsl.syncAll();
        _this.glsl.render();
        console.log(_this.loader.rotation, _this.loader.pitch);
        _class.onProgress.call(_this, idx, _this.panoList.length);
        _class.onPanoramaLoad.call(_this, idx, _this.glsl.canvas);
        if (++idx < _this.panoList.length) {
          return setTimeout(function() {
            return _this.loader.composePanorama(_this.panoList[idx].id);
          }, 100);
        } else {
          _this.bWaiting = false;
          _this.traceBold("complete");
          _this.trace("total panorama:", _this.panoList.length);
          _class.onProgress.call(_this, idx, _this.panoList.length);
          return _class.onMessage.call(_this, "complete - total: " + _this.panoList.length + ", duration: " + (_this.panoList.length / 24));
        }
      };
    })(this);
  };

  return GSVHyperlapse;

})();

//# sourceMappingURL=data:application/json;base64,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LENBckNBLENBQUE7QUF1Q0EsUUFBQSxJQUFHLEVBQUEsR0FBQSxHQUFRLEtBQUMsQ0FBQSxRQUFRLENBQUMsTUFBckI7aUJBRUMsVUFBQSxDQUFXLFNBQUEsR0FBQTttQkFDVixLQUFDLENBQUEsTUFBTSxDQUFDLGVBQVIsQ0FBeUIsS0FBQyxDQUFBLFFBQVMsQ0FBQSxHQUFBLENBQUksQ0FBQyxFQUF4QyxFQURVO1VBQUEsQ0FBWCxFQUVFLEdBRkYsRUFGRDtTQUFBLE1BQUE7QUFNQyxVQUFBLEtBQUMsQ0FBQSxRQUFELEdBQVksS0FBWixDQUFBO0FBQUEsVUFDQSxLQUFDLENBQUEsU0FBRCxDQUFXLFVBQVgsQ0FEQSxDQUFBO0FBQUEsVUFFQSxLQUFDLENBQUEsS0FBRCxDQUFPLGlCQUFQLEVBQTBCLEtBQUMsQ0FBQSxRQUFRLENBQUMsTUFBcEMsQ0FGQSxDQUFBO0FBQUEsVUFJQSxNQUFNLENBQUMsVUFBVSxDQUFDLElBQWxCLENBQXVCLEtBQXZCLEVBQTBCLEdBQTFCLEVBQStCLEtBQUMsQ0FBQSxRQUFRLENBQUMsTUFBekMsQ0FKQSxDQUFBO2lCQUtBLE1BQU0sQ0FBQyxTQUFTLENBQUMsSUFBakIsQ0FBc0IsS0FBdEIsRUFBeUIsb0JBQUEsR0FBcUIsS0FBQyxDQUFBLFFBQVEsQ0FBQyxNQUEvQixHQUFzQyxjQUF0QyxHQUFtRCxDQUFDLEtBQUMsQ0FBQSxRQUFRLENBQUMsTUFBVixHQUFtQixFQUFwQixDQUE1RSxFQVhEO1NBeENXO01BQUEsRUFBQTtJQUFBLENBQUEsQ0FBQSxDQUFBLElBQUEsRUEvQ0o7RUFBQSxDQW5RVCxDQUFBOzt1QkFBQTs7SUF6Q0QsQ0FBQSIsImZpbGUiOiJHU1ZIeXBlcmxhcHNlLmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIiwic291cmNlc0NvbnRlbnQiOlsiTnVtYmVyLnByb3RvdHlwZS50b1JhZCA9ICgpIC0+IEAgKiBNYXRoLlBJIC8gMTgwXG5cbk51bWJlci5wcm90b3R5cGUudG9EZWcgPSAoKSAtPiBAICogMTgwIC8gTWF0aC5QSVxuXG5BUElfS0VZID0gXCJBSXphU3lCUTJkekRmeUY4WTBEd2UtUTZKeng0X0c2MkFOclRvdFFcIlxuXG5UQUdfSEVJR0hUID0gNDBcblxucG9pbnRPbkxpbmUgPSAodCwgYSwgYikgLT5cblx0bGF0MSA9IGEubGF0KCkudG9SYWQoKVxuXHRsbmcxID0gYS5sbmcoKS50b1JhZCgpXG5cblx0bGF0MiA9IGIubGF0KCkudG9SYWQoKVxuXHRsbmcyID0gYi5sbmcoKS50b1JhZCgpXG5cblx0eCA9IGxhdDEgKyB0ICogKGxhdDIgLSBsYXQxKTtcblx0eSA9IGxuZzEgKyB0ICogKGxuZzIgLSBsbmcxKTtcblxuXHRyZXR1cm4gbmV3IGdvb2dsZS5tYXBzLkxhdExuZyh4LnRvRGVnKCksIHkudG9EZWcoKSlcblxuZ2V0Rm9sbG93ZWRQYXRoID0gKG0sIGEsIGIpIC0+XG5cdGQgPSBnb29nbGUubWFwcy5nZW9tZXRyeS5zcGhlcmljYWwuY29tcHV0ZURpc3RhbmNlQmV0d2VlbihhLCBiKVxuXG5cdGlmIG0gPCAwIHx8IGQgPCBtXG5cdFx0YWxlcnQoXCJlcnJvciBnZXRGb2xvd2VkUGF0aFwiKVxuXG5cdHQgPSBtIC8gZFxuXG5cdHJldHVybiBwb2ludE9uTGluZSh0LCBhLCBiKVxuXG4jIGh0dHA6Ly9oaWRlaWNoaS5jb20vYXJjaGl2ZXMvOTRcbmBmdW5jdGlvbiB1bmlxdWVJRCgpe1xuXHR2YXIgcmFuZGFtID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjEwMDApXG5cdHZhciBkYXRlID0gbmV3IERhdGUoKTtcblx0dmFyIHRpbWUgPSBkYXRlLmdldFRpbWUoKTtcblx0cmV0dXJuIHJhbmRhbSArIHRpbWUudG9TdHJpbmcoKTtcbn1gXG5cbmNsYXNzIEdTVkh5cGVybGFwc2VcblxuXHQjIGNvbnN0XG5cdEBBUElfS0VZID0gXCJBSXphU3lCUTJkekRmeUY4WTBEd2UtUTZKeng0X0c2MkFOclRvdFFcIlxuXHRARElTVF9CRVRXRUVOX1BUUyA9IDVcblx0QE1BWF9QVFMgPSAxMDBcblxuXHQjIHN0YXRpYyB2YXJcblx0QGRpclNlcnZpY2UgPSBuZXcgZ29vZ2xlLm1hcHMuRGlyZWN0aW9uc1NlcnZpY2Uoe30pXG5cdEBkaXJSZWdleCA9IC9kaXJcXC8oWzAtOS4tXSopLChbMC05Li1dKilcXC8oWzAtOS4tXSopLChbMC05Li1dKilcXC9AKFswLTkuLV0qKSwoWzAtOS4tXSopLChbMC05XSopelxcL2RhdGE9KC4qKSQvXG5cdEBkYXRhUmVnZXggPSAvITFkKFswLTkuLV0qKSEyZChbMC05Li1dKikvZ1xuXHRAZGF0YUxhdExuZ1JlZ2V4ID0gLyExZChbMC05Li1dKikhMmQoWzAtOS4tXSopL1xuXG5cdCMgbG9hZGVyXG5cdEBsZHIgPSBuZXcgR1NWUEFOTy5QYW5vTG9hZGVyKClcblx0QGxkclN0YWNrID0gW11cblxuXHRfY2xhc3MgPSBAXG5cblx0IyBldmVudFxuXHRAb25FcnJvciBcdFx0XHQ9IChlcnIpIC0+IGFsZXJ0KFwiZXJyb3JcIilcblx0QG9uTWVzc2FnZVx0XHRcdD0gKCkgLT4gbnVsbFxuXHRAb25QYW5vcmFtYUxvYWQgXHQ9ICgpIC0+IG51bGxcblx0QG9uQW5hbHl6ZUNvbXBsZXRlXHQ9ICgpIC0+IG51bGxcblx0QG9uUHJvZ3Jlc3NcdFx0XHQ9ICgpIC0+IG51bGxcblx0QG9uQ2FuY2VsIFx0XHRcdD0gKCkgLT4gbnVsbFxuXG5cdCMgY29uc3RydWN0b3Jcblx0Y29uc3RydWN0b3I6IChhcmdzKSAtPlxuXHRcdEB1cmwgPSBhcmdzLnVybFxuXHRcdEBuYW1lID0gYXJncy5uYW1lXG5cdFx0QHN0ZXAgPSBwYXJzZUZsb2F0KCBhcmdzLnN0ZXAgKVxuXHRcdEBxdWFsaXR5ID0gYXJncy56b29tXG5cdFx0QGJDYW5jZWwgPSBmYWxzZVxuXHRcdEBiV2FpdGluZyA9IGZhbHNlXG5cdFx0QHNlYXJjaFJhZGl1cyA9IGFyZ3Muc2VhcmNoUmFkaXVzXG5cdFx0QHVuaXF1ZUlkID0gdW5pcXVlSUQoKVxuXG5cdFx0aWYgYXJncy50cmF2ZWxNb2RlID09ICdkcml2aW5nJ1xuXHRcdFx0QHRyYXZlbE1vZGUgPSBnb29nbGUubWFwcy5EaXJlY3Rpb25zVHJhdmVsTW9kZS5EUklWSU5HXG5cdFx0ZWxzZSBpZiBhcmdzLnRyYXZlbE1vZGUgPT0gJ3dhbGtpbmcnXG5cdFx0XHRAdHJhdmVsTW9kZSA9IGdvb2dsZS5tYXBzLkRpcmVjdGlvbnNUcmF2ZWxNb2RlLldBTEtJTkdcblxuXHRzZXRNYXA6IChlbG0pIC0+XG5cdFx0QG1hcEVsbSA9IGVsbVxuXG5cdCMgbWV0aG9kc1xuXHRjYW5jZWw6IC0+XG5cdFx0QGJDYW5jZWwgPSB0cnVlXG5cdFx0aWYgIUBiV2FpdGluZ1xuXHRcdFx0X2NsYXNzLm9uQ2FuY2VsLmNhbGwgQFxuXG5cdHRyYWNlOiAoYXJncy4uLikgLT5cblx0XHRjb25zb2xlLmxvZyBcIlsje0BuYW1lfV1cIiwgYXJncy4uLlxuXG5cdHRyYWNlQm9sZDogKHN0cikgLT5cblx0XHRjb25zb2xlLmxvZyBcIiVjWyN7QG5hbWV9XSAje3N0cn0gLS0tLS0tLS0tLS0tLS0tLS0tLS1cIiwgXCJjb2xvcjpvcmFuZ2U7Zm9udC13ZWlnaHQ6Ym9sZDtcIlxuXG5cdGNyZWF0ZTogLT5cblx0XHRAYldhaXRpbmcgPSB0cnVlXG5cdFx0QHRyYWNlQm9sZCBcImNyZWF0ZVwiXG5cblx0XHQjIHBhcnNlIHVybFxuXHRcdHJlc3VsdCA9IF9jbGFzcy5kaXJSZWdleC5leGVjKCBAdXJsIClcblxuXHRcdGlmICFyZXN1bHQ/XG5cdFx0XHRhbGVydCBcInVuY29cIlxuXHRcdFx0X2NsYXNzLm9uTWVzc2FnZS5jYWxsIEAsIFwiY2Fubm90IHBhcnNlIHVybFwiXG5cdFx0XHRyZXR1cm5cblxuXHRcdEBvcmlnaW4gICAgICAgICA9IG5ldyBnb29nbGUubWFwcy5MYXRMbmcoIHJlc3VsdFsxXSwgcmVzdWx0WzJdIClcblx0XHRAZGVzdGluYXRpb25cdD0gbmV3IGdvb2dsZS5tYXBzLkxhdExuZyggcmVzdWx0WzNdLCByZXN1bHRbNF0gKVxuXHRcdEBjZW50cm9pZCAgICAgICA9IG5ldyBnb29nbGUubWFwcy5MYXRMbmcoIHJlc3VsdFs1XSwgcmVzdWx0WzZdIClcblx0XHRAem9vbSAgICAgICAgICAgPSBwYXJzZUludChyZXN1bHRbN10pXG5cblx0XHRAdHJhY2UgXCJvcmlnaW46IFwiICsgQG9yaWdpbiwgXCJkZXN0aW5hdGlvbjogXCIgKyBAZGVzdGluYXRpb25cblxuXHRcdHJlcSA9XG5cdFx0XHRvcmlnaW46IEBvcmlnaW5cblx0XHRcdGRlc3RpbmF0aW9uOiBAZGVzdGluYXRpb25cblx0XHRcdHRyYXZlbE1vZGU6IEB0cmF2ZWxNb2RlXG5cblxuXHRcdCMgcGFyc2Ugd2F5cG9pbnQgZnJvbSBkYXRhXG5cdFx0QHdheXBvaW50cyA9IFtdXG5cdFx0ZGF0YSAgID0gcmVzdWx0WzhdXG5cdFx0cmVzdWx0ID0gZGF0YS5tYXRjaCggR1NWSHlwZXJsYXBzZS5kYXRhUmVnZXggKVxuXG5cdFx0aWYgcmVzdWx0P1xuXHRcdFx0Zm9yIGksIHIgb2YgcmVzdWx0XG5cdFx0XHRcdG0gPSBHU1ZIeXBlcmxhcHNlLmRhdGFMYXRMbmdSZWdleC5leGVjKCByIClcblx0XHRcdFx0d3AgPSBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKCBtWzJdLCBtWzFdIClcblx0XHRcdFx0QHdheXBvaW50cy5wdXNoXG5cdFx0XHRcdFx0bG9jYXRpb246IHdwLnRvU3RyaW5nKClcblx0XHRcdFx0XHRzdG9wb3ZlcjogZmFsc2VcblxuXHRcdFx0QHRyYWNlIFwibnVtIG9mIHdheXBvaW50czpcIiwgQHdheXBvaW50cy5sZW5ndGhcblx0XHRcdHJlcS53YXlwb2ludHMgPSBAd2F5cG9pbnRzXG5cblx0XHRAdHJhY2UgXCJyZXF1ZXN0OlwiLCByZXFcblxuXHRcdCMgY3JlYXRlIG1hcFxuXHRcdEBtYXAgPSBuZXcgZ29vZ2xlLm1hcHMuTWFwIEBtYXBFbG0sXG5cdFx0XHRjZW50ZXI6IEBjZW50cm9pZFxuXHRcdFx0em9vbTogQHpvb21cblx0XHRcdG1hcFR5cGVJZDogZ29vZ2xlLm1hcHMuTWFwVHlwZUlkLlJPQURNQVBcblxuXHRcdEdTVkh5cGVybGFwc2UuZGlyU2VydmljZS5yb3V0ZSByZXEsIChyZXMsIHN0YXR1cykgPT5cblx0XHRcdGlmIHN0YXR1cyA9PSBnb29nbGUubWFwcy5EaXJlY3Rpb25zU3RhdHVzLk9LXG5cdFx0XHRcdEAuYW5hbHl6ZShyZXMpXG5cdFx0XHRlbHNlXG5cdFx0XHRcdF9jbGFzcy5vbk1lc3NhZ2UuY2FsbCBALCBcImNhbm5vdCBnZXQgcm91dGUuXCJcblxuXHQjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cdCMgMlxuXHRhbmFseXplOiAocmVzKSAtPlxuXHRcdGlmIEBiQ2FuY2VsXG5cdFx0XHRfY2xhc3Mub25DYW5jZWwuY2FsbCBAXG5cdFx0XHRyZXR1cm5cblx0XHRAdHJhY2VCb2xkIFwiYW5hbHl6ZVwiXG5cblx0XHRfY2xhc3Mub25NZXNzYWdlLmNhbGwgQCwgXCJhbmFseXppbmcgcm91dGUuLlwiXG5cblx0XHQjIGdldCBwb2ludHNcblx0XHRAdHJhY2UgcmVzLnJvdXRlc1xuXG5cdFx0QHJhd1B0cyA9IFtdXG5cdFx0cm91dGUgPSByZXMucm91dGVzWzBdXG5cdFx0cGF0aCA9IHJvdXRlLm92ZXJ2aWV3X3BhdGhcblx0XHRsZWdzID0gcm91dGUubGVnc1xuXG5cdFx0IyBzaG93IGluZm9cblx0XHRfY2xhc3Mub25NZXNzYWdlLmNhbGwgQCwgXCI8c3Ryb25nPnBhdGggbGVuZ3RoOiAje3BhcnNlSW50KGdvb2dsZS5tYXBzLmdlb21ldHJ5LnNwaGVyaWNhbC5jb21wdXRlTGVuZ3RoKHBhdGgpKX0obSksIHN0ZXA6ICN7QHN0ZXB9KG0pLCBzZWFyY2ggcmFkaXVzOiAje0BzZWFyY2hSYWRpdXN9IChtKTwvc3Ryb25nPlwiXG5cdFx0XG5cblx0XHRkID0gMCAjIGRpc3RhbmNlIGJldHdlZW4gYSBhbmQgYiAobSlcblx0XHRyID0gMCAjIGFsd2F5cyBtdXN0IGJlIDwgc3RlcFxuXHRcdG0gPSAwXG5cdFx0YSA9IGIgPSBudWxsXG5cblx0XHRAdHJhY2UgXCJ0b3RhbCBkaXN0YW5jZTpcIiwgdG90YWxEaXN0XG5cblx0XHQjIHJldHJpdmUgdG8gd2F5IHBvaW50c1xuXHRcdGZvciBpIGluIFswLi5wYXRoLmxlbmd0aC0yXVxuXG5cdFx0XHRhID0gcGF0aFtpXVxuXHRcdFx0YiA9IHBhdGhbaSsxXVxuXHRcdFx0ZCA9IGdvb2dsZS5tYXBzLmdlb21ldHJ5LnNwaGVyaWNhbC5jb21wdXRlRGlzdGFuY2VCZXR3ZWVuKGEsIGIpXG5cblx0XHRcdCMgb2Zmc2V0IC1yXG5cdFx0XHRtID0gLXIgKyBAc3RlcFxuXG5cdFx0XHRpZiBkIDwgbVxuXHRcdFx0XHRyICs9IGRcblx0XHRcdGVsc2Vcblx0XHRcdFx0IyBzdWJkaXZpZGVcblx0XHRcdFx0d2hpbGUgbSA8IGRcblx0XHRcdFx0XHRwdCA9IGdldEZvbGxvd2VkUGF0aChtLCBhLCBiKVxuXHRcdFx0XHRcdEByYXdQdHMucHVzaCggcHQgKVxuXHRcdFx0XHRcdG0gKz0gQHN0ZXBcblxuXHRcdFx0XHRyID0gQHN0ZXAgLSAobSAtIGQpXG5cblx0XHRAdHJhY2UgXCJwb2ludHM6XCIsIEByYXdQdHMubGVuZ3RoXG5cdFx0QHRyYWNlQm9sZCBcImZldGNoIHBhbm9yYW1hc1wiXG5cblx0XHQjIGZpdCBib3VuZCBhbmQgYWRkIHBvbHlsaW5lXG5cdFx0QG1hcC5maXRCb3VuZHMoIHJvdXRlLmJvdW5kcyApXG5cdFx0cGF0aCA9IG5ldyBnb29nbGUubWFwcy5Qb2x5bGluZVxuXHRcdFx0cGF0aDogcGF0aFxuXHRcdFx0I2dlb2Rlc2ljOiB0cnVlXG5cdFx0XHRzdHJva2VDb2xvcjogJyMwMDAwMDAnXG5cdFx0XHRzdHJva2VPcGFjaXR5OiAxLjBcblx0XHRcdHN0cm9rZVdlaWdodDogMlxuXG5cdFx0cGF0aC5zZXRNYXAoIEBtYXAgKVxuXG5cdFx0IyBwYXRoID0gbmV3IGdvb2dsZS5tYXBzLlBvbHlsaW5lXG5cdFx0IyBcdHBhdGg6IEByYXdQdHNcblx0XHQjIFx0I2dlb2Rlc2ljOiB0cnVlXG5cdFx0IyBcdHN0cm9rZUNvbG9yOiAnIzAwMDBGRidcblx0XHQjIFx0c3Ryb2tlT3BhY2l0eTogMS4wXG5cdFx0IyBcdHN0cm9rZVdlaWdodDogMlxuXG5cdFx0IyBmb3IgaSwgcHQgb2YgQHJhd1B0c1xuXHRcdCMgXHRtYXJrZXIgPSBuZXcgZ29vZ2xlLm1hcHMuTWFya2VyXG5cdFx0IyBcdFx0cG9zaXRpb246IHB0XG5cdFx0IyBcdFx0bWFwOiBAbWFwXG5cdFx0IyBcdFx0dGl0bGU6IFwiI3tpfVwiXG5cblx0XHRfY2xhc3Mub25NZXNzYWdlLmNhbGwgQCwgXCJudW0gb2Ygd2F5cG9pbnRzOiAje0ByYXdQdHMubGVuZ3RofVwiXG5cblx0XHQjIG5leHRcblx0XHRAZ2V0UGFub0luZm9PbldheSgpXG5cblx0IyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXHQjIDNcblx0Z2V0UGFub0luZm9PbldheTogLT5cblx0XHRpZiBAYkNhbmNlbFxuXHRcdFx0X2NsYXNzLm9uQ2FuY2VsLmNhbGwgQFxuXHRcdFx0cmV0dXJuXG5cblx0XHQjIGluaXQgR1NWUGFub1xuXHRcdEBsb2FkZXIgPSBuZXcgR1NWUEFOTy5QYW5vTG9hZGVyXG5cdFx0XHR6b29tOiBAcXVhbGl0eVxuXHRcdFx0c2VhcmNoUmFkaXVzOiBAc2VhcmNoUmFkaXVzXG5cblx0XHRAbG9hZGVyLm9uRXJyb3IgPSBvbkVycm9yXG5cdFx0QGxvYWRlci5vbk5vUGFub3JhbWFEYXRhID0gb25FcnJvclxuXG5cdFx0IyBnZXQgcGFubyBpZCBmb3IgZWFjaCByYXdQdHMgYW5kIG1lcmdlIGRlcGxpY2F0ZWQgcGFub0lkXG5cdFx0X2NsYXNzLm9uTWVzc2FnZS5jYWxsIEAsIFwicmV0cml2aW5nIHBhbm8gaWQuLlwiXG5cblx0XHRpZHggPSAwXG5cdFx0QHBhbm9MaXN0ID0gW11cblx0XHRcblx0XHRAYldhaXRpbmcgPSB0cnVlXG5cdFx0QGxvYWRlci5sb2FkIEByYXdQdHNbIGlkeCBdLCBvbkxvYWRcblxuXHRcdG9uRXJyb3IgPSAobXNnKSA9PlxuXHRcdFx0bnVsbFxuXG5cdFx0cHJldklkID0gJydcblxuXHRcdG9uTG9hZCA9ID0+XG5cdFx0XHRpZiBAYkNhbmNlbFxuXHRcdFx0XHRfY2xhc3Mub25DYW5jZWwuY2FsbCBAXG5cdFx0XHRcdHJldHVyblxuXG5cdFx0XHRpZCA9IEBsb2FkZXIuaWRcblxuXHRcdFx0X2NsYXNzLm9uUHJvZ3Jlc3MuY2FsbCBALCBpZHgsIEByYXdQdHMubGVuZ3RoXG5cblx0XHRcdGlmIGlkPyAmJiBpZCAhPSBwcmV2SWRcblx0XHRcdFx0cGFubyA9XG5cdFx0XHRcdFx0aWQ6IGlkXG5cdFx0XHRcdFx0cm90YXRpb246IEBsb2FkZXIucm90YXRpb25cblx0XHRcdFx0XHRwaXRjaDogQGxvYWRlci5waXRjaFxuXHRcdFx0XHRcdGxhdDogQGxvYWRlci5sb2NhdGlvbi5sYXQoKVxuXHRcdFx0XHRcdGxuZzogQGxvYWRlci5sb2NhdGlvbi5sbmcoKVxuXHRcdFx0XHRAcGFub0xpc3QucHVzaCggcGFubyApXG5cblx0XHRcdFx0bWFya2VyID0gbmV3IGdvb2dsZS5tYXBzLk1hcmtlclxuXHRcdFx0XHRcdHBvc2l0aW9uOiBAbG9hZGVyLmxvY2F0aW9uXG5cdFx0XHRcdFx0bWFwOiBAbWFwXG5cdFx0XHRcdFx0dGl0bGU6IFwiI3tpZHh9XCJcblxuXHRcdFx0XHRwcmV2SWQgPSBpZFxuXG5cdFx0XHRpZiArK2lkeCA8IEByYXdQdHMubGVuZ3RoXG5cdFx0XHRcdCMgbmV4dFxuXHRcdFx0XHRAbG9hZGVyLmxvYWQgQHJhd1B0c1sgaWR4IF0sIC0+XG5cdFx0XHRcdFx0b25Mb2FkKClcblx0XHRcdGVsc2Vcblx0XHRcdFx0X2NsYXNzLm9uTWVzc2FnZS5jYWxsIEAsIFwidG90YWwgcGFubyBpZDogI3tAcGFub0xpc3QubGVuZ3RofVwiXG5cdFx0XHRcdEBiV2FpdGluZyA9IGZhbHNlXG5cdFx0XHRcdCMgY29uc29sZS5sb2cgQHBhbm9MaXN0XG5cdFx0XHRcdF9jbGFzcy5vblByb2dyZXNzLmNhbGwgQCwgaWR4LCBAcmF3UHRzLmxlbmd0aFxuXHRcdFx0XHRfY2xhc3Mub25BbmFseXplQ29tcGxldGUuY2FsbCBAXG5cblx0IyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXHQjIDRcblx0Y29tcG9zZTogLT5cblxuXHRcdGlmIEBwYW5vTGlzdC5sZW5ndGggPT0gMFxuXHRcdFx0X2NsYXNzLm9uTWVzc2FnZS5jYWxsIEAsIFwidGhlcmUgaXMgbm8gcGFubyBpZFwiXG5cdFx0XHRyZXR1cm5cblxuXHRcdEB0YWdDYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKVxuXHRcdEB0YWdDYW52YXMud2lkdGggPSBAbG9hZGVyLndpZHRoXG5cdFx0QHRhZ0NhbnZhcy5oZWlnaHQgPSBUQUdfSEVJR0hUXG5cdFx0QHRhZ0N0eFx0PSBAdGFnQ2FudmFzLmdldENvbnRleHQoJzJkJylcblxuXHRcdEBnbHNsID0gR2xzbFxuXHRcdFx0Y2FudmFzOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKVxuXHRcdFx0ZnJhZ21lbnQ6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGFuby1yb3RhdGlvblwiKS50ZXh0Q29udGVudFxuXHRcdFx0dmFyaWFibGVzOlxuXHRcdFx0XHRyb3RhdGlvbjogMC4wXG5cdFx0XHRcdHBpdGNoOiAwLjBcblx0XHRcdFx0b3JpZ2luYWw6IEBsb2FkZXIuY2FudmFzXG5cdFx0XHRcdHRhZzogQHRhZ0NhbnZhc1xuXG5cdFx0QGdsc2wuc2V0U2l6ZShAbG9hZGVyLndpZHRoLCBAbG9hZGVyLmhlaWdodCArIFRBR19IRUlHSFQpXG5cblx0XHRcblxuXHRcdF9jbGFzcy5vbk1lc3NhZ2UuY2FsbCBALCBcImNvbXBvc2luZyBwYW5vcmFtYS4uIHNpemU6I3tAbG9hZGVyLndpZHRofXgje0Bsb2FkZXIuaGVpZ2h0fVwiXG5cdFx0XG5cdFxuXHRcdEBsb2FkZXIub25FcnJvciA9IChtc2cpIC0+XG5cdFx0XHRjb25zb2xlLmxvZyBtc2dcblxuXHRcdEBsb2FkZXIub25QYW5vcmFtYUxvYWQgPSBvbkNvbXBvc2VcblxuXHRcdEBsb2FkZXIub25Ob1Bhbm9yYW1hRGF0YSA9IChzdGF0dXMpIC0+XG5cdFx0XHRjb25zb2xlLmxvZyBzdGF0dXNcblxuXHRcdGlkeCA9IDBcblx0XHRAYldhaXRpbmcgPSB0cnVlXG5cblxuXHRcdEBsb2FkZXIuY29tcG9zZVBhbm9yYW1hKCBAcGFub0xpc3RbaWR4XS5pZCApXG5cblx0XHR3cml0ZVRvVGFnID0gKG5hbWUsIHZhbHVlLCB4LCB5KSA9PlxuXHRcdFx0QHRhZ0N0eC5maWxsU3R5bGUgPSAnI2ZmZmZmZidcblx0XHRcdEB0YWdDdHguZmlsbFRleHQodmFsdWUsIHggKyA0MCwgeSlcblx0XHRcdEB0YWdDdHguZmlsbFN0eWxlID0gJyNmZjAwMDAnXG5cdFx0XHRAdGFnQ3R4LmZpbGxUZXh0KG5hbWUsIHgsIHkpXG5cblx0XHRvbkNvbXBvc2UgPSA9PlxuXHRcdFx0Y29uc29sZS5sb2cgaWR4XG5cblx0XHRcdGlmIEBiQ2FuY2VsXG5cdFx0XHRcdF9jbGFzcy5vbkNhbmNlbC5jYWxsIEBcblx0XHRcdFx0cmV0dXJuXG5cblx0XHRcdCMgZHJhdyB0YWdcblx0XHRcdEB0YWdDdHguZmlsbFN0eWxlID0gJyMwMDAwMDAnXG5cdFx0XHRAdGFnQ3R4LmZpbGxSZWN0KDAsIDAsIEB0YWdDYW52YXMud2lkdGgsIEB0YWdDYW52YXMuaGVpZ2h0KVxuXG5cdFx0XHRAdGFnQ3R4LmZpbGxTdHlsZSA9ICcjZmZmZmZmJ1xuXHRcdFx0QHRhZ0N0eC5mb250ID0gJzEycHggQXJpYWwnXG5cblx0XHRcdGN1cnNvciA9IDBcblxuXHRcdFx0d3JpdGVUb1RhZyhcInVpZFwiLCAgICAgXCIje0B1bmlxdWVJZH1cIiwgY3Vyc29yKysgKiAweGZmLCAzNilcdFx0XHRcdFx0XHRcdFxuXHRcdFx0d3JpdGVUb1RhZyhcImxhdFwiLCAgICAgXCIje0BwYW5vTGlzdFtpZHhdLmxuZy50b1ByZWNpc2lvbigxNyl9XCIsIGN1cnNvcisrICogMHhmZiwgMzYpXHRcblx0XHRcdHdyaXRlVG9UYWcoXCJsbmdcIiwgICAgIFwiI3tAcGFub0xpc3RbaWR4XS5sbmcudG9QcmVjaXNpb24oMTcpfVwiLCBjdXJzb3IrKyAqIDB4ZmYsIDM2KVx0XG5cdFx0XHR3cml0ZVRvVGFnKFwiaGRuZ1wiLCBcdCAgXCIjezB9XCIsIGN1cnNvcisrICogMHhmZiwgMzYpXHRcdFx0XHRcdFx0XHRcdFxuXHRcdFx0d3JpdGVUb1RhZyhcInBpdGNoXCIsICAgXCIjezB9XCIsIGN1cnNvcisrICogMHhmZiwgMzYpXHRcdFx0XHRcdFx0XHRcdFxuXHRcdFx0d3JpdGVUb1RhZyhcImRhdGVcIiwgICAgXCIyMDE0LTA0XCIsIGN1cnNvcisrICogMHhmZiwgMzYpXHRcblxuXHRcdFx0Y3Vyc29yID0gMFxuXHRcdFx0d3JpdGVUb1RhZyhcInpvb21cIiwgICAgIFwiI3tAcXVhbGl0eX1cIiwgY3Vyc29yKysgKiAweGZmLCAxOClcblxuXG5cblx0XHRcdCQoJ2JvZHknKS5hcHBlbmQoIEB0YWdDYW52YXMgKVxuXG5cdFx0XHRAZ2xzbC5zZXQoJ3JvdGF0aW9uJywgQHBhbm9MaXN0W2lkeF0ucm90YXRpb24pXG5cdFx0XHRAZ2xzbC5zZXQoJ3BpdGNoJywgQHBhbm9MaXN0W2lkeF0ucGl0Y2gpXG5cdFx0XHRAZ2xzbC5zeW5jQWxsKClcblx0XHRcdEBnbHNsLnJlbmRlcigpXG5cblx0XHRcdGNvbnNvbGUubG9nIEBsb2FkZXIucm90YXRpb24sIEBsb2FkZXIucGl0Y2hcblxuXHRcdFx0X2NsYXNzLm9uUHJvZ3Jlc3MuY2FsbCBALCBpZHgsIEBwYW5vTGlzdC5sZW5ndGhcblx0XHRcdF9jbGFzcy5vblBhbm9yYW1hTG9hZC5jYWxsIEAsIGlkeCwgQGdsc2wuY2FudmFzXG5cblx0XHRcdGlmICsraWR4IDwgQHBhbm9MaXN0Lmxlbmd0aFxuXHRcdFx0XHQjIG5leHQgZnJhbWVcblx0XHRcdFx0c2V0VGltZW91dCA9PlxuXHRcdFx0XHRcdEBsb2FkZXIuY29tcG9zZVBhbm9yYW1hKCBAcGFub0xpc3RbaWR4XS5pZCApXG5cdFx0XHRcdCwgMTAwXG5cdFx0XHRlbHNlXG5cdFx0XHRcdEBiV2FpdGluZyA9IGZhbHNlXG5cdFx0XHRcdEB0cmFjZUJvbGQgXCJjb21wbGV0ZVwiXG5cdFx0XHRcdEB0cmFjZSBcInRvdGFsIHBhbm9yYW1hOlwiLCBAcGFub0xpc3QubGVuZ3RoXG5cblx0XHRcdFx0X2NsYXNzLm9uUHJvZ3Jlc3MuY2FsbCBALCBpZHgsIEBwYW5vTGlzdC5sZW5ndGhcblx0XHRcdFx0X2NsYXNzLm9uTWVzc2FnZS5jYWxsIEAsIFwiY29tcGxldGUgLSB0b3RhbDogI3tAcGFub0xpc3QubGVuZ3RofSwgZHVyYXRpb246ICN7QHBhbm9MaXN0Lmxlbmd0aCAvIDI0fVwiXG5cbiJdfQ==