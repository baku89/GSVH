var GSVHyperlapse, GSVHyperlapseHeading, GSVHyperlapseMethod, getFollowedPath, pointOnLine, uniqueID;

Number.prototype.toRad = function() {
  return this * Math.PI / 180;
};

Number.prototype.toDeg = function() {
  return this * 180 / Math.PI;
};

GSVHyperlapseHeading = {
  BACKWARD: "backward",
  LOOKAT: "lookat",
  NORTH: "north"
};

GSVHyperlapseMethod = {
  DRECTION: 'direction',
  PANOID: 'panoid'
};

pointOnLine = function(t, a, b) {
  var lat1, lat2, lng1, lng2, x, y;
  lat1 = a.lat().toRad();
  lng1 = a.lng().toRad();
  lat2 = b.lat().toRad();
  lng2 = b.lng().toRad();
  x = lat1 + t * (lat2 - lat1);
  y = lng1 + t * (lng2 - lng1);
  return new google.maps.LatLng(x.toDeg(), y.toDeg());
};

getFollowedPath = function(m, a, b) {
  var d, t;
  d = google.maps.geometry.spherical.computeDistanceBetween(a, b);
  if (m < 0 || d < m) {
    alert("error getFolowedPath");
  }
  t = m / d;
  return pointOnLine(t, a, b);
};

uniqueID = function() {
  var date, randam, time;
  randam = Math.floor(Math.random() * 1000);
  date = new Date();
  time = date.getTime();
  return randam + time.toString();
};

GSVHyperlapse = (function() {
  GSVHyperlapse.DIST_BETWEEN_PTS = 5;

  GSVHyperlapse.MAX_PTS = 100;

  GSVHyperlapse.dirService = new google.maps.DirectionsService({});

  GSVHyperlapse.dirRegex = /dir\/([0-9.-]*),([0-9.-]*)\/([0-9.-]*),([0-9.-]*)\/@([0-9.-]*),([0-9.-]*),([0-9]*)z\/data=(.*)$/;

  GSVHyperlapse.dataRegex = /!1d([0-9.-]*)!2d([0-9.-]*)/g;

  GSVHyperlapse.dataLatLngRegex = /!1d([0-9.-]*)!2d([0-9.-]*)/;

  GSVHyperlapse.onError = function(err) {
    return alert("error");
  };

  GSVHyperlapse.onMessage = function() {
    return null;
  };

  GSVHyperlapse.onPanoramaLoad = function() {
    return null;
  };

  GSVHyperlapse.onAnalyzeComplete = function() {
    return null;
  };

  GSVHyperlapse.onComposeComplete = function() {
    return null;
  };

  GSVHyperlapse.onProgress = function() {
    return null;
  };

  GSVHyperlapse.onCancel = function() {
    return null;
  };

  function GSVHyperlapse(name, map) {
    this.name = name;
    this.bCancel = false;
    this.bWaiting = false;
    this.uid = uniqueID();
    this.panoList = [];
    this.client = new google.maps.StreetViewService();
    this.map = new google.maps.Map(map, {
      mapTypeId: google.maps.MapTypeId.ROADMAP,
      zoom: 16
    });
  }

  GSVHyperlapse.prototype.cancel = function() {
    this.bCancel = true;
    if (!this.bWaiting) {
      return GSVHyperlapse.onCancel.call(this);
    }
  };

  GSVHyperlapse.prototype.createPanoData = function(res) {
    return {
      id: res.location.pano,
      rotation: res.tiles.centerHeading,
      pitch: res.tiles.originPitch,
      latLng: res.location.latLng,
      date: res.imageDate
    };
  };

  GSVHyperlapse.prototype.setParameters = function(params) {
    var result;
    this.method = params.method;
    this.travelMode = params.travelMode;
    this.step = parseFloat(params.step);
    this.searchRadius = parseFloat(params.searchRadius);
    this.headingMode = params.headingMode;
    this.zoom = params.zoom;
    if (this.headingMode === GSVHyperlapseHeading.LOOKAT) {
      result = /([0-9.]+), ([0-9.]+)/.exec(params.lookat);
      if (!(result != null)) {
        alert("lookat latLng cannot be parsed");
        return;
      }
      return this.lookat = new google.maps.LatLng(result[1], result[2]);
    } else if (this.haeadingMode === GSVHyperlapseHeading.BACKWARD) {
      if (this.panoList.length < 2) {
        alert("cannot solve backward heading because pano length is less than 2.");
      }
    }
  };

  GSVHyperlapse.prototype.createFromDirection = function(url) {
    var prevId, rawPts, requestRoute, retrivePanoData, routeRes, subdivideRoute;
    rawPts = [];
    routeRes = null;
    prevId = '';
    this.method = GSVHyperlapseMethod.DIRECTION;
    this.sourceUrl = url;
    requestRoute = (function(_this) {
      return function() {
        var center, destination, i, m, origin, r, req, result, waypoints, wp, zoom;
        result = GSVHyperlapse.dirRegex.exec(url);
        if (result == null) {
          alert("cannot parse url");
          return;
        }
        origin = new google.maps.LatLng(result[1], result[2]);
        destination = new google.maps.LatLng(result[3], result[4]);
        center = new google.maps.LatLng(result[5], result[6]);
        zoom = parseInt(result[7]);
        _this.map.setZoom(zoom);
        _this.map.setCenter(center);
        req = {
          origin: origin,
          destination: destination,
          travelMode: travelMode
        };
        waypoints = [];
        if ((result = result[8].match(GSVHyperlapse.dataRegex)) != null) {
          for (i in result) {
            r = result[i];
            m = GSVHyperlapse.dataLatLngRegex.exec(r);
            wp = new google.maps.LatLng(m[2], m[1]);
            waypoints.push({
              location: wp.toString(),
              stopover: false
            });
          }
          req.waypoints = waypoints;
        }
        return GSVHyperlapse.dirService.route(req, function(res, status) {
          if (status === google.maps.DirectionsStatus.OK) {
            routeRes = res;
            return subdivideRoute();
          } else {
            return GSVHyperlapse.onMessage.call(_this, "cannot get route.");
          }
        });
      };
    })(this);
    subdivideRoute = (function(_this) {
      return function() {
        var a, b, d, i, j, m, path, pt, r, ref, route;
        if (_this.bCancel) {
          GSVHyperlapse.onCancel.call(_this);
          return;
        }
        GSVHyperlapse.onMessage.call(_this, "subdividing route..");
        route = routeRes.routes[0];
        path = route.overview_path;
        GSVHyperlapse.onMessage.call(_this, "path length: " + (parseInt(google.maps.geometry.spherical.computeLength(path))) + "(m), step: " + _this.step + "(m), search radius: " + _this.searchRadius + " (m)");
        d = 0;
        r = 0;
        m = 0;
        a = b = null;
        for (i = j = 0, ref = path.length - 2; 0 <= ref ? j <= ref : j >= ref; i = 0 <= ref ? ++j : --j) {
          a = path[i];
          b = path[i + 1];
          d = google.maps.geometry.spherical.computeDistanceBetween(a, b);
          m = -r + _this.step;
          if (d < m) {
            r += d;
          } else {
            while (m < d) {
              pt = getFollowedPath(m, a, b);
              rawPts.push(pt);
              m += _this.step;
            }
            r = _this.step - (m - d);
          }
        }
        _this.map.fitBounds(route.bounds);
        GSVHyperlapse.onMessage.call(_this, "number of waypoints: " + rawPts.length);
        return retrivePanoData();
      };
    })(this);
    retrivePanoData = (function(_this) {
      return function() {
        var idx, onLoad;
        GSVHyperlapse.onMessage.call(_this, "retriving pano id..");
        idx = 0;
        onLoad = function(res, status) {
          var marker, pano;
          if (_this.bCancel) {
            GSVHyperlapse.onCancel.call(_this);
            return;
          }
          if (status === google.maps.StreetViewStatus.OK) {
            pano = _this.createPanoData(res);
            if (pano.id !== prevId) {
              _this.panoList.push(pano);
              marker = new google.maps.Marker({
                position: pano.latLng,
                map: _this.map,
                title: "" + idx
              });
              prevId = pano.id;
              console.log(pano.id);
            }
          }
          GSVHyperlapse.onProgress.call(_this, idx, rawPts.length);
          if (++idx < rawPts.length) {
            return _this.client.getPanoramaByLocation(rawPts[idx], _this.searchRadius, onLoad);
          } else {
            console.log(_this.panoList);
            _this.bWaiting = false;
            GSVHyperlapse.onMessage.call(_this, "total pano id: " + _this.panoList.length);
            GSVHyperlapse.onProgress.call(_this, idx, rawPts.length);
            return GSVHyperlapse.onAnalyzeComplete.call(_this);
          }
        };
        _this.bWaiting = true;
        prevId = '';
        return _this.client.getPanoramaByLocation(rawPts[idx], _this.searchRadius, onLoad);
      };
    })(this);
    return requestRoute();
  };

  GSVHyperlapse.prototype.createFromPanoId = function(list) {
    var idx, onLoad;
    idx = 0;
    GSVHyperlapse.onMessage.call(this, "start compose..");
    GSVHyperlapse.onMessage.call(this, "eadingMode:" + this.headingMode);
    onLoad = (function(_this) {
      return function(res, status) {
        var marker, pano;
        if (idx === 0) {
          GSVHyperlapse.onMessage.call(_this, "analyzing..");
        }
        if (status === google.maps.StreetViewStatus.OK) {
          if (_this.bCancel) {
            GSVHyperlapse.onCancel.call(_this);
            return;
          }
          pano = _this.createPanoData(res);
          _this.panoList.push(pano);
          if (idx === 0) {
            _this.map.setCenter(pano.latLng);
            _this.map.setZoom(13);
          }
          marker = new google.maps.Marker({
            position: pano.latLng,
            map: _this.map,
            title: "" + idx
          });
          GSVHyperlapse.onProgress.call(_this, idx, list.length);
          if (++idx < list.length) {
            return _this.client.getPanoramaById(list[idx], onLoad);
          } else {
            _this.bWaiting = false;
            GSVHyperlapse.onMessage.call(_this, "total pano id: " + _this.panoList.length);
            GSVHyperlapse.onProgress.call(_this, idx, list.length);
            return GSVHyperlapse.onAnalyzeComplete.call(_this);
          }
        } else {
          return alert("error on createFromPanoId() : " + status);
        }
      };
    })(this);
    this.bWaiting = true;
    return this.client.getPanoramaById(list[idx], onLoad);
  };

  GSVHyperlapse.prototype.compose = function() {
    var idx, loader, onCompose;
    if (this.panoList.length === 0) {
      GSVHyperlapse.onMessage.call(this, "there is no pano id.");
      return;
    }
    loader = new GSVPANO.PanoLoader({
      zoom: this.zoom
    });
    GSVHyperlapse.onMessage.call(this, "composing panorama.. size:" + loader.width + "x" + loader.height);
    this.glsl = Glsl({
      canvas: document.createElement('canvas'),
      fragment: document.getElementById("pano-rotation").textContent,
      variables: {
        heading: 0.0,
        pitch: 0.0,
        original: loader.canvas
      }
    });
    this.glsl.setSize(loader.width, loader.height);
    onCompose = (function(_this) {
      return function() {
        var ajustHeading, ajustPitch, data, heading, i;
        if (_this.bCancel) {
          GSVHyperlapse.onCancel.call(_this);
          return;
        }
        heading = 0;
        ajustHeading = _this.panoList[idx].rotation;
        ajustPitch = 0;
        if (_this.headingMode === GSVHyperlapseHeading.BACKWARD) {
          i = idx === 0 ? 1 : idx;
          heading = google.maps.geometry.spherical.computeHeading(_this.panoList[i].latLng, _this.panoList[i - 1].latLng);
        } else if (_this.headingMode === GSVHyperlapseHeading.LOOKAT) {
          heading = google.maps.geometry.spherical.computeHeading(_this.panoList[idx].latLng, _this.lookat);
        }
        ajustHeading -= heading;
        _this.glsl.set('heading', ajustHeading.toRad());
        _this.glsl.set('pitch', ajustPitch.toRad());
        _this.glsl.syncAll();
        _this.glsl.render();
        data = {
          id: _this.panoList[idx].id,
          latLng: _this.panoList[idx].latLng,
          heading: heading,
          ajustHeading: ajustHeading,
          ajustPitch: ajustPitch
        };
        GSVHyperlapse.onProgress.call(_this, idx, _this.panoList.length);
        GSVHyperlapse.onPanoramaLoad.call(_this, idx, _this.glsl.canvas, data);
        if (++idx < _this.panoList.length) {
          return setTimeout(function() {
            return loader.composePanorama(_this.panoList[idx].id);
          }, 100);
        } else {
          _this.bWaiting = false;
          console.log("complete");
          GSVHyperlapse.onProgress.call(_this, idx, _this.panoList.length);
          GSVHyperlapse.onMessage.call(_this, "complete - total: " + _this.panoList.length + ", duration: " + (_this.panoList.length / 24));
          return GSVHyperlapse.onComposeComplete.call(_this);
        }
      };
    })(this);
    loader.onPanoramaLoad = onCompose;
    loader.onError = function(msg) {
      return alert("error onCompose() : " + msg);
    };
    loader.onNoPanoramaData = function(status) {
      return alert("error onNoPanoramaData() : " + status);
    };
    idx = 0;
    this.bWaiting = true;
    return loader.composePanorama(this.panoList[idx].id);
  };

  return GSVHyperlapse;

})();

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkdTVkh5cGVybGFwc2UuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLElBQUEsZ0dBQUE7O0FBQUEsTUFBTSxDQUFDLFNBQVMsQ0FBQyxLQUFqQixHQUF5QixTQUFBLEdBQUE7U0FBTSxJQUFBLEdBQUksSUFBSSxDQUFDLEVBQVQsR0FBYyxJQUFwQjtBQUFBLENBQXpCLENBQUE7O0FBQUEsTUFDTSxDQUFDLFNBQVMsQ0FBQyxLQUFqQixHQUF5QixTQUFBLEdBQUE7U0FBTSxJQUFBLEdBQUksR0FBSixHQUFVLElBQUksQ0FBQyxHQUFyQjtBQUFBLENBRHpCLENBQUE7O0FBQUEsb0JBR0EsR0FDQztBQUFBLEVBQUEsUUFBQSxFQUFVLFVBQVY7QUFBQSxFQUNBLE1BQUEsRUFBUSxRQURSO0FBQUEsRUFFQSxLQUFBLEVBQU8sT0FGUDtDQUpELENBQUE7O0FBQUEsbUJBUUEsR0FDQztBQUFBLEVBQUEsUUFBQSxFQUFVLFdBQVY7QUFBQSxFQUNBLE1BQUEsRUFBUSxRQURSO0NBVEQsQ0FBQTs7QUFBQSxXQVlBLEdBQWMsU0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLENBQVAsR0FBQTtBQUNiLE1BQUEsNEJBQUE7QUFBQSxFQUFBLElBQUEsR0FBTyxDQUFDLENBQUMsR0FBRixDQUFBLENBQU8sQ0FBQyxLQUFSLENBQUEsQ0FBUCxDQUFBO0FBQUEsRUFDQSxJQUFBLEdBQU8sQ0FBQyxDQUFDLEdBQUYsQ0FBQSxDQUFPLENBQUMsS0FBUixDQUFBLENBRFAsQ0FBQTtBQUFBLEVBR0EsSUFBQSxHQUFPLENBQUMsQ0FBQyxHQUFGLENBQUEsQ0FBTyxDQUFDLEtBQVIsQ0FBQSxDQUhQLENBQUE7QUFBQSxFQUlBLElBQUEsR0FBTyxDQUFDLENBQUMsR0FBRixDQUFBLENBQU8sQ0FBQyxLQUFSLENBQUEsQ0FKUCxDQUFBO0FBQUEsRUFNQSxDQUFBLEdBQUksSUFBQSxHQUFPLENBQUEsR0FBSSxDQUFDLElBQUEsR0FBTyxJQUFSLENBTmYsQ0FBQTtBQUFBLEVB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d0IsU0F4RXhCLENBQUE7QUFBQSxJQXlFQSxNQUFNLENBQUMsT0FBUCxHQUFpQixTQUFDLEdBQUQsR0FBQTthQUNoQixLQUFBLENBQU0sc0JBQUEsR0FBdUIsR0FBN0IsRUFEZ0I7SUFBQSxDQXpFakIsQ0FBQTtBQUFBLElBMkVBLE1BQU0sQ0FBQyxnQkFBUCxHQUEwQixTQUFDLE1BQUQsR0FBQTthQUN6QixLQUFBLENBQU0sNkJBQUEsR0FBOEIsTUFBcEMsRUFEeUI7SUFBQSxDQTNFMUIsQ0FBQTtBQUFBLElBOEVBLEdBQUEsR0FBTSxDQTlFTixDQUFBO0FBQUEsSUErRUEsSUFBQyxDQUFBLFFBQUQsR0FBWSxJQS9FWixDQUFBO1dBaUZBLE1BQU0sQ0FBQyxlQUFQLENBQXdCLElBQUMsQ0FBQSxRQUFTLENBQUEsR0FBQSxDQUFJLENBQUMsRUFBdkMsRUFuRlE7RUFBQSxDQW5SVCxDQUFBOzt1QkFBQTs7SUE1Q0QsQ0FBQSIsImZpbGUiOiJHU1ZIeXBlcmxhcHNlLmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIiwic291cmNlc0NvbnRlbnQiOlsiTnVtYmVyLnByb3RvdHlwZS50b1JhZCA9ICgpIC0+IEAgKiBNYXRoLlBJIC8gMTgwXG5OdW1iZXIucHJvdG90eXBlLnRvRGVnID0gKCkgLT4gQCAqIDE4MCAvIE1hdGguUElcblxuR1NWSHlwZXJsYXBzZUhlYWRpbmcgPVxuXHRCQUNLV0FSRDogXCJiYWNrd2FyZFwiXG5cdExPT0tBVDogXCJsb29rYXRcIlxuXHROT1JUSDogXCJub3J0aFwiXG5cbkdTVkh5cGVybGFwc2VNZXRob2QgPSBcblx0RFJFQ1RJT046ICdkaXJlY3Rpb24nXG5cdFBBTk9JRDogJ3Bhbm9pZCdcblxucG9pbnRPbkxpbmUgPSAodCwgYSwgYikgLT5cblx0bGF0MSA9IGEubGF0KCkudG9SYWQoKVxuXHRsbmcxID0gYS5sbmcoKS50b1JhZCgpXG5cblx0bGF0MiA9IGIubGF0KCkudG9SYWQoKVxuXHRsbmcyID0gYi5sbmcoKS50b1JhZCgpXG5cblx0eCA9IGxhdDEgKyB0ICogKGxhdDIgLSBsYXQxKTtcblx0eSA9IGxuZzEgKyB0ICogKGxuZzIgLSBsbmcxKTtcblxuXHRyZXR1cm4gbmV3IGdvb2dsZS5tYXBzLkxhdExuZyh4LnRvRGVnKCksIHkudG9EZWcoKSlcblxuZ2V0Rm9sbG93ZWRQYXRoID0gKG0sIGEsIGIpIC0+XG5cdGQgPSBnb29nbGUubWFwcy5nZW9tZXRyeS5zcGhlcmljYWwuY29tcHV0ZURpc3RhbmNlQmV0d2VlbihhLCBiKVxuXG5cdGlmIG0gPCAwIHx8IGQgPCBtXG5cdFx0YWxlcnQoXCJlcnJvciBnZXRGb2xvd2VkUGF0aFwiKVxuXG5cdHQgPSBtIC8gZFxuXG5cdHJldHVybiBwb2ludE9uTGluZSh0LCBhLCBiKVxuXG4jIGh0dHA6Ly9oaWRlaWNoaS5jb20vYXJjaGl2ZXMvOTRcbnVuaXF1ZUlEID0gLT5cblx0cmFuZGFtID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjEwMDApXG5cdGRhdGUgPSBuZXcgRGF0ZSgpXG5cdHRpbWUgPSBkYXRlLmdldFRpbWUoKVxuXHRyZXR1cm4gcmFuZGFtICsgdGltZS50b1N0cmluZygpXG5cbmNsYXNzIEdTVkh5cGVybGFwc2VcblxuXHQjIGNvbnN0XG5cdEBESVNUX0JFVFdFRU5fUFRTID0gNVxuXHRATUFYX1BUUyA9IDEwMFxuXG5cdCMgc3RhdGljIHZhclxuXHRAZGlyU2VydmljZSA9IG5ldyBnb29nbGUubWFwcy5EaXJlY3Rpb25zU2VydmljZSh7fSlcblx0QGRpclJlZ2V4ID0gL2RpclxcLyhbMC05Li1dKiksKFswLTkuLV0qKVxcLyhbMC05Li1dKiksKFswLTkuLV0qKVxcL0AoWzAtOS4tXSopLChbMC05Li1dKiksKFswLTldKil6XFwvZGF0YT0oLiopJC9cblx0QGRhdGFSZWdleCA9IC8hMWQoWzAtOS4tXSopITJkKFswLTkuLV0qKS9nXG5cdEBkYXRhTGF0TG5nUmVnZXggPSAvITFkKFswLTkuLV0qKSEyZChbMC05Li1dKikvXG5cblx0IyBldmVudFxuXHRAb25FcnJvciBcdFx0XHQ9IChlcnIpIC0+IGFsZXJ0KFwiZXJyb3JcIilcblx0QG9uTWVzc2FnZVx0XHRcdD0gKCkgLT4gbnVsbFxuXHRAb25QYW5vcmFtYUxvYWQgXHQ9ICgpIC0+IG51bGxcblx0QG9uQW5hbHl6ZUNvbXBsZXRlXHQ9ICgpIC0+IG51bGxcblx0QG9uQ29tcG9zZUNvbXBsZXRlICA9ICgpIC0+IG51bGxcblx0QG9uUHJvZ3Jlc3NcdFx0XHQ9ICgpIC0+IG51bGxcblx0QG9uQ2FuY2VsIFx0XHRcdD0gKCkgLT4gbnVsbFxuXG5cdCMgY29uc3RydWN0b3Jcblx0Y29uc3RydWN0b3I6IChuYW1lLCBtYXApIC0+XG5cdFx0QG5hbWUgPSBuYW1lXG5cblx0XHRAYkNhbmNlbCA9IGZhbHNlXG5cdFx0QGJXYWl0aW5nID0gZmFsc2Vcblx0XHRAdWlkID0gdW5pcXVlSUQoKVxuXHRcdEBwYW5vTGlzdCA9IFtdXG5cdFx0QGNsaWVudCA9IG5ldyBnb29nbGUubWFwcy5TdHJlZXRWaWV3U2VydmljZSgpXG5cdFx0QG1hcCA9IG5ldyBnb29nbGUubWFwcy5NYXAgbWFwLFxuXHRcdFx0bWFwVHlwZUlkOiBnb29nbGUubWFwcy5NYXBUeXBlSWQuUk9BRE1BUFxuXHRcdFx0em9vbTogMTZcblxuXHQjIG1ldGhvZHNcblx0Y2FuY2VsOiAtPlxuXHRcdEBiQ2FuY2VsID0gdHJ1ZVxuXHRcdGlmICFAYldhaXRpbmdcblx0XHRcdEdTVkh5cGVybGFwc2Uub25DYW5jZWwuY2FsbCBAXG5cblx0IyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXHQjIGNsYXNzIG1ldGhvZFxuXHRjcmVhdGVQYW5vRGF0YTogKHJlcykgLT5cblx0XHRyZXR1cm4ge1xuXHRcdFx0aWQ6IHJlcy5sb2NhdGlvbi5wYW5vXG5cdFx0XHRyb3RhdGlvbjogcmVzLnRpbGVzLmNlbnRlckhlYWRpbmcjICogTWF0aC5QSSAvIDE4MC4wXG5cdFx0XHRwaXRjaDogcmVzLnRpbGVzLm9yaWdpblBpdGNoIyAqIE1hdGguUEkgLyAxODAuMFxuXHRcdFx0bGF0TG5nOiByZXMubG9jYXRpb24ubGF0TG5nXG5cdFx0XHRkYXRlOiByZXMuaW1hZ2VEYXRlXG5cdFx0fVxuXG5cdHNldFBhcmFtZXRlcnM6IChwYXJhbXMpIC0+XG5cblx0XHRAbWV0aG9kIFx0XHQ9IHBhcmFtcy5tZXRob2Rcblx0XHRAdHJhdmVsTW9kZSBcdD0gcGFyYW1zLnRyYXZlbE1vZGVcblx0XHRAc3RlcCBcdFx0XHQ9IHBhcnNlRmxvYXQocGFyYW1zLnN0ZXApXG5cdFx0QHNlYXJjaFJhZGl1c1x0PSBwYXJzZUZsb2F0KHBhcmFtcy5zZWFyY2hSYWRpdXMpXG5cdFx0QGhlYWRpbmdNb2RlXHQ9IHBhcmFtcy5oZWFkaW5nTW9kZVxuXHRcdEB6b29tIFx0XHRcdD0gcGFyYW1zLnpvb21cblxuXHRcdCMgY2hlY2sgaGVhZGluZ01vZGVcblx0XHRpZiBAaGVhZGluZ01vZGUgPT0gR1NWSHlwZXJsYXBzZUhlYWRpbmcuTE9PS0FUXG5cdFx0XHRyZXN1bHQgPSAvKFswLTkuXSspLCAoWzAtOS5dKykvLmV4ZWMoIHBhcmFtcy5sb29rYXQgKVxuXHRcdFx0aWYgIShyZXN1bHQ/KVxuXHRcdFx0XHRhbGVydChcImxvb2thdCBsYXRMbmcgY2Fubm90IGJlIHBhcnNlZFwiKVxuXHRcdFx0XHRyZXR1cm5cblx0XHRcdEBsb29rYXQgPSBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKCByZXN1bHRbMV0sIHJlc3VsdFsyXSApXG5cblx0XHRlbHNlIGlmIEBoYWVhZGluZ01vZGUgPT0gR1NWSHlwZXJsYXBzZUhlYWRpbmcuQkFDS1dBUkRcblx0XHRcdFx0aWYgQHBhbm9MaXN0Lmxlbmd0aCA8IDJcblx0XHRcdFx0XHRhbGVydChcImNhbm5vdCBzb2x2ZSBiYWNrd2FyZCBoZWFkaW5nIGJlY2F1c2UgcGFubyBsZW5ndGggaXMgbGVzcyB0aGFuIDIuXCIpXG5cdFx0XHRcdFx0cmV0dXJuXG5cblx0IyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXHRjcmVhdGVGcm9tRGlyZWN0aW9uOiAodXJsKS0+XG5cblx0XHRyYXdQdHMgPSBbXVxuXHRcdHJvdXRlUmVzID0gbnVsbFxuXHRcdHByZXZJZCA9ICcnXG5cdFx0QG1ldGhvZCA9IEdTVkh5cGVybGFwc2VNZXRob2QuRElSRUNUSU9OXG5cdFx0QHNvdXJjZVVybCA9IHVybFxuXG5cdFx0IyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXHRcdCMgMS4gcmVxdWVzdCByb3V0ZVxuXHRcdHJlcXVlc3RSb3V0ZSA9ID0+XG5cdFx0XHQjIHBhcnNlIHVybFxuXHRcdFx0cmVzdWx0ID0gR1NWSHlwZXJsYXBzZS5kaXJSZWdleC5leGVjKCB1cmwgKVxuXG5cdFx0XHRpZiAhcmVzdWx0P1xuXHRcdFx0XHRhbGVydCBcImNhbm5vdCBwYXJzZSB1cmxcIlxuXHRcdFx0XHRyZXR1cm5cblxuXHRcdFx0b3JpZ2luICAgICAgPSBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKCByZXN1bHRbMV0sIHJlc3VsdFsyXSApXG5cdFx0XHRkZXN0aW5hdGlvblx0PSBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKCByZXN1bHRbM10sIHJlc3VsdFs0XSApXG5cdFx0XHRjZW50ZXIgICAgICA9IG5ldyBnb29nbGUubWFwcy5MYXRMbmcoIHJlc3VsdFs1XSwgcmVzdWx0WzZdIClcblx0XHRcdHpvb20gICAgICAgID0gcGFyc2VJbnQocmVzdWx0WzddKVxuXG5cdFx0XHRAbWFwLnNldFpvb20oIHpvb20gKVxuXHRcdFx0QG1hcC5zZXRDZW50ZXIoIGNlbnRlciApXG5cblx0XHRcdHJlcSA9XG5cdFx0XHRcdG9yaWdpbjogb3JpZ2luXG5cdFx0XHRcdGRlc3RpbmF0aW9uOiBkZXN0aW5hdGlvblxuXHRcdFx0XHR0cmF2ZWxNb2RlOiB0cmF2ZWxNb2RlXG5cblx0XHRcdCMgcGFyc2Ugd2F5cG9pbnQgZnJvbSBkYXRhXG5cdFx0XHR3YXlwb2ludHMgPSBbXVxuXHRcdFx0XG5cdFx0XHRpZiAocmVzdWx0ID0gcmVzdWx0WzhdLm1hdGNoKCBHU1ZIeXBlcmxhcHNlLmRhdGFSZWdleCApKT9cblx0XHRcdFx0Zm9yIGksIHIgb2YgcmVzdWx0XG5cdFx0XHRcdFx0bSA9IEdTVkh5cGVybGFwc2UuZGF0YUxhdExuZ1JlZ2V4LmV4ZWMoIHIgKVxuXHRcdFx0XHRcdHdwID0gbmV3IGdvb2dsZS5tYXBzLkxhdExuZyggbVsyXSwgbVsxXSApXG5cdFx0XHRcdFx0d2F5cG9pbnRzLnB1c2hcblx0XHRcdFx0XHRcdGxvY2F0aW9uOiB3cC50b1N0cmluZygpXG5cdFx0XHRcdFx0XHRzdG9wb3ZlcjogZmFsc2VcblxuXHRcdFx0XHRyZXEud2F5cG9pbnRzID0gd2F5cG9pbnRzXG5cblx0XHRcdEdTVkh5cGVybGFwc2UuZGlyU2VydmljZS5yb3V0ZSByZXEsIChyZXMsIHN0YXR1cykgPT5cblxuXHRcdFx0XHRpZiBzdGF0dXMgPT0gZ29vZ2xlLm1hcHMuRGlyZWN0aW9uc1N0YXR1cy5PS1xuXHRcdFx0XHRcdHJvdXRlUmVzID0gcmVzXG5cdFx0XHRcdFx0IyBuZXh0XG5cdFx0XHRcdFx0c3ViZGl2aWRlUm91dGUoKVxuXHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0R1NWSHlwZXJsYXBzZS5vbk1lc3NhZ2UuY2FsbCBALCBcImNhbm5vdCBnZXQgcm91dGUuXCJcblxuXHRcdCMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblx0XHQjIDIuIHN1YmRpdmlkZSByb3V0ZVxuXHRcdHN1YmRpdmlkZVJvdXRlID0gKCkgPT5cblxuXHRcdFx0aWYgQGJDYW5jZWxcblx0XHRcdFx0R1NWSHlwZXJsYXBzZS5vbkNhbmNlbC5jYWxsIEBcblx0XHRcdFx0cmV0dXJuXG5cblx0XHRcdEdTVkh5cGVybGFwc2Uub25NZXNzYWdlLmNhbGwgQCwgXCJzdWJkaXZpZGluZyByb3V0ZS4uXCJcblxuXHRcdFx0IyBnZXQgcG9pbnRzXG5cdFx0XHRyb3V0ZSA9IHJvdXRlUmVzLnJvdXRlc1swXVxuXHRcdFx0cGF0aCA9IHJvdXRlLm92ZXJ2aWV3X3BhdGhcblxuXHRcdFx0IyBzaG93IGluZm9cblx0XHRcdEdTVkh5cGVybGFwc2Uub25NZXNzYWdlLmNhbGwgQCxcblx0XHRcdFx0XCJwYXRoIGxlbmd0aDogI3twYXJzZUludChnb29nbGUubWFwcy5nZW9tZXRyeS5zcGhlcmljYWwuY29tcHV0ZUxlbmd0aChwYXRoKSl9KG0pLCBcblx0XHRcdFx0c3RlcDogI3tAc3RlcH0obSksIHNlYXJjaCByYWRpdXM6ICN7QHNlYXJjaFJhZGl1c30gKG0pXCJcblx0XHRcdFxuXG5cdFx0XHRkID0gMCAjIGRpc3RhbmNlIGJldHdlZW4gYSBhbmQgYiAobSlcblx0XHRcdHIgPSAwICMgYWx3YXlzIG11c3QgYmUgPCBzdGVwXG5cdFx0XHRtID0gMCAjIGN1cnJlbnQgbWlkcG9pbnRcblx0XHRcdGEgPSBiID0gbnVsbFxuXG5cdFx0XHQjIHJldHJpdmUgdG8gd2F5IHBvaW50c1xuXHRcdFx0Zm9yIGkgaW4gWzAuLnBhdGgubGVuZ3RoLTJdXG5cblx0XHRcdFx0YSA9IHBhdGhbaV1cblx0XHRcdFx0YiA9IHBhdGhbaSsxXVxuXHRcdFx0XHRkID0gZ29vZ2xlLm1hcHMuZ2VvbWV0cnkuc3BoZXJpY2FsLmNvbXB1dGVEaXN0YW5jZUJldHdlZW4oYSwgYilcblxuXHRcdFx0XHQjIG9mZnNldCAtclxuXHRcdFx0XHRtID0gLXIgKyBAc3RlcFxuXG5cdFx0XHRcdGlmIGQgPCBtXG5cdFx0XHRcdFx0ciArPSBkXG5cdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHQjIHN1YmRpdmlkZVxuXHRcdFx0XHRcdHdoaWxlIG0gPCBkXG5cdFx0XHRcdFx0XHRwdCA9IGdldEZvbGxvd2VkUGF0aChtLCBhLCBiKVxuXHRcdFx0XHRcdFx0cmF3UHRzLnB1c2goIHB0IClcblx0XHRcdFx0XHRcdG0gKz0gQHN0ZXBcblxuXHRcdFx0XHRcdHIgPSBAc3RlcCAtIChtIC0gZClcblxuXHRcdFx0IyBmaXQgYm91bmQgYW5kIGFkZCBwb2x5bGluZVxuXHRcdFx0QG1hcC5maXRCb3VuZHMoIHJvdXRlLmJvdW5kcyApXG5cblx0XHRcdEdTVkh5cGVybGFwc2Uub25NZXNzYWdlLmNhbGwgQCwgXCJudW1iZXIgb2Ygd2F5cG9pbnRzOiAje3Jhd1B0cy5sZW5ndGh9XCJcblxuXHRcdFx0IyBuZXh0XG5cdFx0XHRyZXRyaXZlUGFub0RhdGEoKVxuXG5cdFx0IyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXHRcdCMgMy4gcmV0cml2ZSBwYW5vIGRhdGEgYW5kIHNwbGljZSBkdXBsaWNhdGVkIGlkXG5cdFx0cmV0cml2ZVBhbm9EYXRhID0gPT5cblx0XHRcdEdTVkh5cGVybGFwc2Uub25NZXNzYWdlLmNhbGwgQCwgXCJyZXRyaXZpbmcgcGFubyBpZC4uXCJcblxuXHRcdFx0aWR4ID0gMFxuXG5cdFx0XHRvbkxvYWQgPSAocmVzLCBzdGF0dXMpID0+XG5cdFx0XHRcdGlmIEBiQ2FuY2VsXG5cdFx0XHRcdFx0R1NWSHlwZXJsYXBzZS5vbkNhbmNlbC5jYWxsIEBcblx0XHRcdFx0XHRyZXR1cm5cblxuXHRcdFx0XHRpZiBzdGF0dXMgPT0gZ29vZ2xlLm1hcHMuU3RyZWV0Vmlld1N0YXR1cy5PS1xuXG5cdFx0XHRcdFx0cGFubyA9IEBjcmVhdGVQYW5vRGF0YSggcmVzIClcblxuXHRcdFx0XHRcdGlmIHBhbm8uaWQgIT0gcHJldklkXG5cdFx0XHRcdFx0XHRAcGFub0xpc3QucHVzaCggcGFubyApXG5cdFx0XHRcdFx0XHRtYXJrZXIgPSBuZXcgZ29vZ2xlLm1hcHMuTWFya2VyXG5cdFx0XHRcdFx0XHRcdHBvc2l0aW9uOiBwYW5vLmxhdExuZ1xuXHRcdFx0XHRcdFx0XHRtYXA6IEBtYXBcblx0XHRcdFx0XHRcdFx0dGl0bGU6IFwiI3tpZHh9XCJcblxuXHRcdFx0XHRcdFx0cHJldklkID0gcGFuby5pZFxuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2cgcGFuby5pZFxuXG5cdFx0XHRcdEdTVkh5cGVybGFwc2Uub25Qcm9ncmVzcy5jYWxsIEAsIGlkeCwgcmF3UHRzLmxlbmd0aFxuXG5cdFx0XHRcdGlmICsraWR4IDwgcmF3UHRzLmxlbmd0aFxuXHRcdFx0XHRcdCMgbmV4dFxuXHRcdFx0XHRcdEBjbGllbnQuZ2V0UGFub3JhbWFCeUxvY2F0aW9uKHJhd1B0c1tpZHhdLCBAc2VhcmNoUmFkaXVzLCBvbkxvYWQpXG5cdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHQjIGVuZFxuXHRcdFx0XHRcdGNvbnNvbGUubG9nIEBwYW5vTGlzdFxuXHRcdFx0XHRcdEBiV2FpdGluZyA9IGZhbHNlXG5cdFx0XHRcdFx0R1NWSHlwZXJsYXBzZS5vbk1lc3NhZ2UuY2FsbCBALCBcInRvdGFsIHBhbm8gaWQ6ICN7QHBhbm9MaXN0Lmxlbmd0aH1cIlxuXHRcdFx0XHRcdEdTVkh5cGVybGFwc2Uub25Qcm9ncmVzcy5jYWxsIEAsIGlkeCwgcmF3UHRzLmxlbmd0aFxuXHRcdFx0XHRcdEdTVkh5cGVybGFwc2Uub25BbmFseXplQ29tcGxldGUuY2FsbCBAXG5cblx0XHRcdCMgaW5pdCBHU1ZQYW5vXG5cdFx0XHRAYldhaXRpbmcgPSB0cnVlXG5cdFx0XHRwcmV2SWQgPSAnJ1xuXHRcdFx0QGNsaWVudC5nZXRQYW5vcmFtYUJ5TG9jYXRpb24ocmF3UHRzW2lkeF0sIEBzZWFyY2hSYWRpdXMsIG9uTG9hZClcblxuXHRcdCMgdHJpZ2dlclxuXHRcdHJlcXVlc3RSb3V0ZSgpXG5cblx0IyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXHRjcmVhdGVGcm9tUGFub0lkOiAobGlzdCkgLT5cblxuXHRcdGlkeCA9IDBcblxuXHRcdEdTVkh5cGVybGFwc2Uub25NZXNzYWdlLmNhbGwgQCwgXCJzdGFydCBjb21wb3NlLi5cIlxuXHRcdEdTVkh5cGVybGFwc2Uub25NZXNzYWdlLmNhbGwgQCwgXCJlYWRpbmdNb2RlOiN7QGhlYWRpbmdNb2RlfVwiXG5cblx0XHRvbkxvYWQgPSAocmVzLCBzdGF0dXMpPT5cblx0XHRcdGlmIGlkeCA9PSAwXG5cdFx0XHRcdEdTVkh5cGVybGFwc2Uub25NZXNzYWdlLmNhbGwgQCwgXCJhbmFseXppbmcuLlwiXHRcblxuXHRcdFx0aWYgc3RhdHVzID09IGdvb2dsZS5tYXBzLlN0cmVldFZpZXdTdGF0dXMuT0tcblx0XHRcdFx0aWYgQGJDYW5jZWxcblx0XHRcdFx0XHRHU1ZIeXBlcmxhcHNlLm9uQ2FuY2VsLmNhbGwgQFxuXHRcdFx0XHRcdHJldHVyblxuXG5cdFx0XHRcdHBhbm8gPSBAY3JlYXRlUGFub0RhdGEoIHJlcyApXG5cdFx0XHRcdEBwYW5vTGlzdC5wdXNoKCBwYW5vIClcblxuXHRcdFx0XHRpZiBpZHggPT0gMFxuXHRcdFx0XHRcdEBtYXAuc2V0Q2VudGVyKCBwYW5vLmxhdExuZyApXG5cdFx0XHRcdFx0QG1hcC5zZXRab29tKCAxMyApXG5cblx0XHRcdFx0bWFya2VyID0gbmV3IGdvb2dsZS5tYXBzLk1hcmtlclxuXHRcdFx0XHRcdHBvc2l0aW9uOiBwYW5vLmxhdExuZ1xuXHRcdFx0XHRcdG1hcDogQG1hcFxuXHRcdFx0XHRcdHRpdGxlOiBcIiN7aWR4fVwiXG5cblx0XHRcdFx0R1NWSHlwZXJsYXBzZS5vblByb2dyZXNzLmNhbGwgQCwgaWR4LCBsaXN0Lmxlbmd0aFxuXG5cdFx0XHRcdGlmICsraWR4IDwgbGlzdC5sZW5ndGhcblx0XHRcdFx0XHQjIG5leHRcblx0XHRcdFx0XHRAY2xpZW50LmdldFBhbm9yYW1hQnlJZChsaXN0W2lkeF0sIG9uTG9hZClcblx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdCMgZW5kXG5cdFx0XHRcdFx0QGJXYWl0aW5nID0gZmFsc2Vcblx0XHRcdFx0XHRHU1ZIeXBlcmxhcHNlLm9uTWVzc2FnZS5jYWxsIEAsIFwidG90YWwgcGFubyBpZDogI3tAcGFub0xpc3QubGVuZ3RofVwiXG5cdFx0XHRcdFx0R1NWSHlwZXJsYXBzZS5vblByb2dyZXNzLmNhbGwgQCwgaWR4LCBsaXN0Lmxlbmd0aFxuXHRcdFx0XHRcdEdTVkh5cGVybGFwc2Uub25BbmFseXplQ29tcGxldGUuY2FsbCBAXG5cdFx0XHRcblx0XHRcdGVsc2Vcblx0XHRcdFx0YWxlcnQgXCJlcnJvciBvbiBjcmVhdGVGcm9tUGFub0lkKCkgOiAje3N0YXR1c31cIlxuXG5cdFx0IyB0cmlnZ2VyXG5cblx0XHRAYldhaXRpbmcgPSB0cnVlXG5cdFx0QGNsaWVudC5nZXRQYW5vcmFtYUJ5SWQobGlzdFtpZHhdLCBvbkxvYWQpXG5cblx0IyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXHRjb21wb3NlOiAoKS0+XG5cblx0XHRpZiBAcGFub0xpc3QubGVuZ3RoID09IDBcblx0XHRcdEdTVkh5cGVybGFwc2Uub25NZXNzYWdlLmNhbGwgQCwgXCJ0aGVyZSBpcyBubyBwYW5vIGlkLlwiXG5cdFx0XHRyZXR1cm5cblxuXHRcdGxvYWRlciA9IG5ldyBHU1ZQQU5PLlBhbm9Mb2FkZXJcblx0XHRcdHpvb206IEB6b29tXG5cblx0XHRHU1ZIeXBlcmxhcHNlLm9uTWVzc2FnZS5jYWxsIEAsIFwiY29tcG9zaW5nIHBhbm9yYW1hLi4gc2l6ZToje2xvYWRlci53aWR0aH14I3tsb2FkZXIuaGVpZ2h0fVwiXG5cblx0XHQjIHNldHVwIGdsc2xcblx0XHRAZ2xzbCA9IEdsc2xcblx0XHRcdGNhbnZhczogZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJylcblx0XHRcdGZyYWdtZW50OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBhbm8tcm90YXRpb25cIikudGV4dENvbnRlbnRcblx0XHRcdHZhcmlhYmxlczpcblx0XHRcdFx0aGVhZGluZzogIDAuMFxuXHRcdFx0XHRwaXRjaDogMC4wXG5cdFx0XHRcdG9yaWdpbmFsOiBsb2FkZXIuY2FudmFzXG5cblx0XHRAZ2xzbC5zZXRTaXplKGxvYWRlci53aWR0aCwgbG9hZGVyLmhlaWdodClcblxuXHRcdG9uQ29tcG9zZSA9ID0+XG5cblx0XHRcdGlmIEBiQ2FuY2VsXG5cdFx0XHRcdEdTVkh5cGVybGFwc2Uub25DYW5jZWwuY2FsbCBAXG5cdFx0XHRcdHJldHVyblxuXG5cdFx0XHQjIGNhbGMgcm90YXRpb25cblx0XHRcdGhlYWRpbmcgPSAwXG5cdFx0XHRhanVzdEhlYWRpbmcgPSBAcGFub0xpc3RbaWR4XS5yb3RhdGlvblxuXHRcdFx0YWp1c3RQaXRjaCA9IDBcblxuXHRcdFx0aWYgQGhlYWRpbmdNb2RlID09IEdTVkh5cGVybGFwc2VIZWFkaW5nLkJBQ0tXQVJEXG5cdFx0XHRcdGkgPSBpZiBpZHggPT0gMCB0aGVuIDEgZWxzZSBpZHhcblx0XHRcdFx0aGVhZGluZyA9IGdvb2dsZS5tYXBzLmdlb21ldHJ5LnNwaGVyaWNhbC5jb21wdXRlSGVhZGluZyhcblx0XHRcdFx0XHRAcGFub0xpc3RbaV0ubGF0TG5nLCBAcGFub0xpc3RbaS0xXS5sYXRMbmcgKVxuXG5cdFx0XHRlbHNlIGlmIEBoZWFkaW5nTW9kZSA9PSBHU1ZIeXBlcmxhcHNlSGVhZGluZy5MT09LQVRcblx0XHRcdFx0aGVhZGluZyA9IGdvb2dsZS5tYXBzLmdlb21ldHJ5LnNwaGVyaWNhbC5jb21wdXRlSGVhZGluZyhcblx0XHRcdFx0XHRAcGFub0xpc3RbaWR4XS5sYXRMbmcsIEBsb29rYXQpXG5cblx0XHRcdGFqdXN0SGVhZGluZyAtPSBoZWFkaW5nXG5cblx0XHRcdCMgcm90YXRlIHRleHR1cmVcblx0XHRcdEBnbHNsLnNldCgnaGVhZGluZycsIGFqdXN0SGVhZGluZy50b1JhZCgpKVxuXHRcdFx0QGdsc2wuc2V0KCdwaXRjaCcsIFx0IGFqdXN0UGl0Y2gudG9SYWQoKSlcblx0XHRcdEBnbHNsLnN5bmNBbGwoKVxuXHRcdFx0QGdsc2wucmVuZGVyKClcblxuXHRcdFx0IyBldmVudFxuXHRcdFx0ZGF0YSA9XG5cdFx0XHRcdGlkOiBAcGFub0xpc3RbaWR4XS5pZFxuXHRcdFx0XHRsYXRMbmc6IEBwYW5vTGlzdFtpZHhdLmxhdExuZ1xuXHRcdFx0XHRoZWFkaW5nOiBoZWFkaW5nXG5cdFx0XHRcdGFqdXN0SGVhZGluZzogYWp1c3RIZWFkaW5nXG5cdFx0XHRcdGFqdXN0UGl0Y2g6IGFqdXN0UGl0Y2hcblx0XHRcdFxuXHRcdFx0R1NWSHlwZXJsYXBzZS5vblByb2dyZXNzLmNhbGwgQCwgaWR4LCBAcGFub0xpc3QubGVuZ3RoXG5cdFx0XHRHU1ZIeXBlcmxhcHNlLm9uUGFub3JhbWFMb2FkLmNhbGwgQCwgaWR4LCBAZ2xzbC5jYW52YXMsIGRhdGFcblxuXHRcdFx0IyBuZXh0XG5cdFx0XHRpZiArK2lkeCA8IEBwYW5vTGlzdC5sZW5ndGhcblx0XHRcdFx0c2V0VGltZW91dCA9PlxuXHRcdFx0XHRcdGxvYWRlci5jb21wb3NlUGFub3JhbWEoIEBwYW5vTGlzdFtpZHhdLmlkIClcblx0XHRcdFx0LCAxMDBcblx0XHRcdGVsc2Vcblx0XHRcdFx0QGJXYWl0aW5nID0gZmFsc2Vcblx0XHRcdFx0Y29uc29sZS5sb2cgXCJjb21wbGV0ZVwiXG5cdFx0XHRcdEdTVkh5cGVybGFwc2Uub25Qcm9ncmVzcy5jYWxsIEAsIGlkeCwgQHBhbm9MaXN0Lmxlbmd0aFxuXHRcdFx0XHRHU1ZIeXBlcmxhcHNlLm9uTWVzc2FnZS5jYWxsIEAsIFwiY29tcGxldGUgLSB0b3RhbDogI3tAcGFub0xpc3QubGVuZ3RofSwgZHVyYXRpb246ICN7QHBhbm9MaXN0Lmxlbmd0aCAvIDI0fVwiXG5cdFx0XHRcdEdTVkh5cGVybGFwc2Uub25Db21wb3NlQ29tcGxldGUuY2FsbCBAXG5cblx0XHQjIHRyaWdnZXJcblx0XHRsb2FkZXIub25QYW5vcmFtYUxvYWQgPSBvbkNvbXBvc2Vcblx0XHRsb2FkZXIub25FcnJvciA9IChtc2cpIC0+XG5cdFx0XHRhbGVydCBcImVycm9yIG9uQ29tcG9zZSgpIDogI3ttc2d9XCJcblx0XHRsb2FkZXIub25Ob1Bhbm9yYW1hRGF0YSA9IChzdGF0dXMpIC0+XG5cdFx0XHRhbGVydCBcImVycm9yIG9uTm9QYW5vcmFtYURhdGEoKSA6ICN7c3RhdHVzfVwiXG5cdFxuXHRcdGlkeCA9IDBcblx0XHRAYldhaXRpbmcgPSB0cnVlXG5cblx0XHRsb2FkZXIuY29tcG9zZVBhbm9yYW1hKCBAcGFub0xpc3RbaWR4XS5pZCApXG5cbiJdfQ==