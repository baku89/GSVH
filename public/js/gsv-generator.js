var DIST_BETWEEN_PTS, MAX_PTS, canvas, create, dirService, loader, onAnalyzeComplete, onCancel, onComposeComplete, onMessage, onPanoramaLoad, onProgress, panoIds, rawPts, res, settings, sisyphus, storage, tasks, totalDist, updateSettings;

MAX_PTS = 100;

DIST_BETWEEN_PTS = 5;

loader = null;

dirService = new google.maps.DirectionsService({});

res = null;

rawPts = [];

panoIds = [];

totalDist = 0;

canvas = null;

tasks = [];

settings = {};

storage = localStorage;

updateSettings = function() {
  $('#gsv-generator').find('input, textarea').each(function() {
    var type;
    type = $(this).attr('type');
    if (type === 'checkbox') {
      settings[this.name] = $(this).is(':checked');
    } else if (type === 'radio') {
      if ($(this).is(':checked')) {
        settings[this.name] = $(this).val();
      }
    } else {
      settings[this.name] = $(this).val();
    }
    return true;
  });
};

sisyphus = null;

$(function() {
  canvas = document.createElement('canvas');
  $('#create').on('click', create);
  GSVHyperlapse.onMessage = onMessage;
  GSVHyperlapse.onPanoramaLoad = onPanoramaLoad;
  GSVHyperlapse.onProgress = onProgress;
  GSVHyperlapse.onAnalyzeComplete = onAnalyzeComplete;
  GSVHyperlapse.onComposeComplete = onComposeComplete;
  GSVHyperlapse.onCancel = onCancel;
  sisyphus = $('#gsv-generator').sisyphus();
  $('[name=dirFile]').on('change', function() {
    $('[name=dir]').val($('[name=dirFile]').val());
    return sisyphus.saveAllData();
  });
  return $('#gsv-generator').find('[data-parent]').each(function() {
    var $parent, $this, name;
    $this = $(this);
    $parent = $($this.attr('data-parent'));
    name = $parent.attr('name');
    return $("[name=" + name).on('change', (function(_this) {
      return function() {
        return $(_this).toggle($parent.prop('checked'));
      };
    })(this)).trigger('change');
  });
});

create = function(e) {
  var hyperlapse, index, list;
  e.preventDefault();
  updateSettings();
  if (fs.existsSync(settings.dir + "/" + settings.name)) {
    alert('destination folder is already exists.');
    return;
  }
  index = tasks.length;
  $('.tasks').append("<li id='task-" + index + "'> <h1><input type='text' name='name' value='" + settings.name + "'></h1> <button class='cancel action' data-index='" + index + "'>Cancel</button> <p>mode: " + settings.method + "<br></p> <div id='map-" + index + "' style='width: 48%; height: 0; padding-top: 26%; background:gray; display: inline-block;'></div> </li>");
  hyperlapse = new GSVHyperlapse(settings.name, $("#map-" + index)[0]);
  hyperlapse.setParameters(settings);
  if (settings.method === 'direction') {
    hyperlapse.createFromDirection(settings.url);
  } else if (settings.method === 'panoid') {
    list = $.parseJSON(settings.panoid);
    hyperlapse.createFromPanoId(list);
  }
  $("#task-" + index + " .cancel").on('click', function() {
    index = $(this).attr('data-index');
    return tasks[index].cancel();
  });
  return tasks.push(hyperlapse);
};

onCancel = function() {
  var $btn, $elm, index;
  index = tasks.indexOf(this);
  $elm = $("#task-" + index);
  $btn = $('<button>delete</button><br>');
  $btn.on('click', function() {
    return $elm.remove();
  });
  return $elm.children('p').append('canceled<br>').append($btn);
};

onAnalyzeComplete = function() {
  var $elm, $p, dir, index, pano, txtPanoIds, txtReport;
  index = tasks.indexOf(this);
  $elm = $("#task-" + index);
  $p = $elm.children('p');
  $elm.children('.control').remove();
  this.name = $elm.find('[name=name]').prop('disabled', true).val();
  this.compose();
  index = tasks.indexOf(this);
  $elm = $("#task-" + index);
  $p = $elm.children('p');
  $p.append('composing..<br>');
  dir = settings.dir + "/" + this.name;
  if (this.method === GSVHyperlapseMethod.DIRECTION) {
    txtReport = "method: direction\nurl: " + this.sourceUrl + "\nstep: " + this.step + "\nsearchRadius: " + this.searchRadius;
  } else if (this.method = GSVHyperlapseMethod.PANOID) {
    txtReport = "method: panoid";
  }
  txtPanoIds = JSON.stringify((function() {
    var i, len, ref, results;
    ref = this.panoList;
    results = [];
    for (i = 0, len = ref.length; i < len; i++) {
      pano = ref[i];
      results.push(pano.id);
    }
    return results;
  }).call(this));
  return mkdirp(dir, function() {
    fs.writeFile(dir + "/_report.txt", txtReport, function() {
      return $p.append('report saved<br>');
    });
    return fs.writeFile(dir + "/_pano-ids.json", txtPanoIds, function() {
      return $p.append('pano-ids.json saved<br>');
    });
  });
};

onComposeComplete = function() {
  var $elm, $p, dir, index, txtPanoList;
  index = tasks.indexOf(this);
  $elm = $("#task-" + index);
  $p = $elm.children('p');
  dir = settings.dir + "/" + this.name;
  txtPanoList = JSON.stringify(this.panoList);
  return fs.writeFile(dir + "/_pano-data.json", txtPanoList, function() {
    $p.append('pano-data.json saved<br>');
    return notifier.notify({
      title: "GSV Generator",
      message: "All done!",
      sound: true
    });
  });
};

onProgress = function(loaded, total) {
  var $elm, index;
  index = tasks.indexOf(this);
  $elm = $("#task-" + index);
  if (loaded < 1) {
    $elm.children('p').append($('<progress></progress>'));
  }
  return $elm.find("progress").last().attr({
    value: loaded,
    max: total,
    'data-label': "[" + loaded + "/" + total + "]"
  });
};

onMessage = function(message) {
  var $elm, index;
  index = tasks.indexOf(this);
  $elm = $("#task-" + index);
  return $elm.children('p').append(message + "<br>");
};

onPanoramaLoad = function(idx, pano, data) {
  var $elm, ctx, index, path, tag;
  index = tasks.indexOf(this);
  $elm = $("#task-" + index);
  canvas.width = pano.width;
  canvas.height = pano.height * V_SCALE;
  ctx = canvas.getContext('2d');
  ctx.fillStyle = '#000000';
  ctx.fillRect(0, 0, canvas.width, canvas.height);
  ctx.drawImage(pano, 0, 0);
  tag = {
    uid: this.uid,
    id: data.id,
    heading: data.heading,
    latLng: data.latLng.toString()
  };
  CanvasMatrixCode.draw(canvas, tag, 0, pano.height + 10, canvas.width, TAG_HEIGHT - 10);
  $elm.append(canvas);
  path = settings.dir + "/" + this.name + "/" + this.name + "_" + (('000000' + idx).substr(-6, 6)) + ".png";
  return saveCanvas(canvas, path);
};

//# sourceMappingURL=data:application/json;base64,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Iiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIiwic291cmNlc0NvbnRlbnQiOlsiIy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuIyBjb25zdGFudHNcbk1BWF9QVFMgPSAxMDBcbkRJU1RfQkVUV0VFTl9QVFMgPSA1XG5cbiMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiMgdmFyaWFibGVzXG5sb2FkZXIgPSBudWxsXG5kaXJTZXJ2aWNlID0gbmV3IGdvb2dsZS5tYXBzLkRpcmVjdGlvbnNTZXJ2aWNlKHt9KVxuXG4jIGVhY2ggcmVzXG5yZXMgPSBudWxsXG5cbnJhd1B0cyA9IFtdXG5wYW5vSWRzID0gW11cbnRvdGFsRGlzdCA9IDBcblxuY2FudmFzID0gbnVsbFxuXG50YXNrcyA9IFtdXG5cbnNldHRpbmdzID0ge31cblxuc3RvcmFnZSA9IGxvY2FsU3RvcmFnZVxuXG4jLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4jIGZ1bmN0aW9uc1xuXG51cGRhdGVTZXR0aW5ncyA9IC0+XG5cdCQoJyNnc3YtZ2VuZXJhdG9yJykuZmluZCgnaW5wdXQsIHRleHRhcmVhJykuZWFjaCAtPlxuXHRcdHR5cGUgPSAkKHRoaXMpLmF0dHIoJ3R5cGUnKVxuXHRcdGlmIHR5cGUgPT0gJ2NoZWNrYm94J1xuXHRcdFx0c2V0dGluZ3NbdGhpcy5uYW1lXSA9ICQodGhpcykuaXMoJzpjaGVja2VkJylcblx0XHRlbHNlIGlmIHR5cGUgPT0gJ3JhZGlvJ1xuXHRcdFx0aWYgJCh0aGlzKS5pcygnOmNoZWNrZWQnKVxuXHRcdFx0XHRzZXR0aW5nc1t0aGlzLm5hbWVdID0gJCh0aGlzKS52YWwoKVxuXHRcdGVsc2Vcblx0XHRcdHNldHRpbmdzW3RoaXMubmFtZV0gPSAkKHRoaXMpLnZhbCgpXG5cdFx0cmV0dXJuIHRydWVcblx0cmV0dXJuXG5cbiMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiMgb24gbG9hZFxuXG5zaXN5cGh1cyA9IG51bGxcblxuJCAtPlxuXHRjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKVxuXG5cdCQoJyNjcmVhdGUnKS5vbiAnY2xpY2snLCBjcmVhdGVcblxuXHRHU1ZIeXBlcmxhcHNlLm9uTWVzc2FnZSA9IG9uTWVzc2FnZVxuXHRHU1ZIeXBlcmxhcHNlLm9uUGFub3JhbWFMb2FkID0gb25QYW5vcmFtYUxvYWRcblx0R1NWSHlwZXJsYXBzZS5vblByb2dyZXNzID0gb25Qcm9ncmVzc1xuXHRHU1ZIeXBlcmxhcHNlLm9uQW5hbHl6ZUNvbXBsZXRlID0gb25BbmFseXplQ29tcGxldGVcblx0R1NWSHlwZXJsYXBzZS5vbkNvbXBvc2VDb21wbGV0ZSA9IG9uQ29tcG9zZUNvbXBsZXRlXG5cdEdTVkh5cGVybGFwc2Uub25DYW5jZWwgPSBvbkNhbmNlbFxuXG5cdHNpc3lwaHVzID0gJCgnI2dzdi1nZW5lcmF0b3InKS5zaXN5cGh1cygpXG5cblx0JCgnW25hbWU9ZGlyRmlsZV0nKS5vbiAnY2hhbmdlJywgLT5cblx0XHQkKCdbbmFtZT1kaXJdJykudmFsKCAkKCdbbmFtZT1kaXJGaWxlXScpLnZhbCgpIClcblx0XHRzaXN5cGh1cy5zYXZlQWxsRGF0YSgpXG5cblx0JCgnI2dzdi1nZW5lcmF0b3InKS5maW5kKCdbZGF0YS1wYXJlbnRdJykuZWFjaCAtPlxuXG5cdFx0JHRoaXMgPSAkKEApXG5cdFx0JHBhcmVudCA9ICQoICR0aGlzLmF0dHIoJ2RhdGEtcGFyZW50JykgKVxuXHRcdG5hbWUgPSAkcGFyZW50LmF0dHIoJ25hbWUnKVxuXG5cdFx0JChcIltuYW1lPSN7bmFtZX1cIikub24gJ2NoYW5nZScsID0+XG5cdFx0XHQkKEApLnRvZ2dsZSggJHBhcmVudC5wcm9wKCdjaGVja2VkJykgKVxuXHRcdC50cmlnZ2VyKCdjaGFuZ2UnKVxuXG4jLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5jcmVhdGUgPSAoZSktPlxuXHRlLnByZXZlbnREZWZhdWx0KClcblxuXHR1cGRhdGVTZXR0aW5ncygpXG5cblx0aWYgZnMuZXhpc3RzU3luYyhcIiN7c2V0dGluZ3MuZGlyfS8je3NldHRpbmdzLm5hbWV9XCIpXG5cdFx0YWxlcnQgJ2Rlc3RpbmF0aW9uIGZvbGRlciBpcyBhbHJlYWR5IGV4aXN0cy4nXG5cdFx0cmV0dXJuXG5cblx0aW5kZXggPSB0YXNrcy5sZW5ndGhcblxuXHQkKCcudGFza3MnKS5hcHBlbmQoXCJcblx0XHQ8bGkgaWQ9J3Rhc2stI3tpbmRleH0nPlxuXHRcdFx0PGgxPjxpbnB1dCB0eXBlPSd0ZXh0JyBuYW1lPSduYW1lJyB2YWx1ZT0nI3tzZXR0aW5ncy5uYW1lfSc+PC9oMT5cblx0XHRcdDxidXR0b24gY2xhc3M9J2NhbmNlbCBhY3Rpb24nIGRhdGEtaW5kZXg9JyN7aW5kZXh9Jz5DYW5jZWw8L2J1dHRvbj5cblx0XHRcdDxwPm1vZGU6ICN7c2V0dGluZ3MubWV0aG9kfTxicj48L3A+XG5cdFx0XHQ8ZGl2IGlkPSdtYXAtI3tpbmRleH0nIHN0eWxlPSd3aWR0aDogNDglOyBoZWlnaHQ6IDA7IHBhZGRpbmctdG9wOiAyNiU7IGJhY2tncm91bmQ6Z3JheTsgZGlzcGxheTogaW5saW5lLWJsb2NrOyc+PC9kaXY+XG5cdFx0PC9saT5cblx0XCIpXG5cblx0aHlwZXJsYXBzZSA9IG5ldyBHU1ZIeXBlcmxhcHNlKHNldHRpbmdzLm5hbWUsICQoXCIjbWFwLSN7aW5kZXh9XCIpWzBdKVxuXHRoeXBlcmxhcHNlLnNldFBhcmFtZXRlcnMoc2V0dGluZ3MpXG5cblx0aWYgc2V0dGluZ3MubWV0aG9kID09ICdkaXJlY3Rpb24nXG5cdFx0aHlwZXJsYXBzZS5jcmVhdGVGcm9tRGlyZWN0aW9uKCBzZXR0aW5ncy51cmwgKVxuXG5cdGVsc2UgaWYgc2V0dGluZ3MubWV0aG9kID09ICdwYW5vaWQnXG5cdFx0bGlzdCA9ICQucGFyc2VKU09OKCBzZXR0aW5ncy5wYW5vaWQgKVxuXHRcdGh5cGVybGFwc2UuY3JlYXRlRnJvbVBhbm9JZChsaXN0KVxuXG5cdCQoXCIjdGFzay0je2luZGV4fSAuY2FuY2VsXCIpLm9uICdjbGljaycsIC0+XG5cdFx0aW5kZXggPSAkKEApLmF0dHIoJ2RhdGEtaW5kZXgnKVxuXHRcdHRhc2tzW2luZGV4XS5jYW5jZWwoKVxuXG5cdHRhc2tzLnB1c2goIGh5cGVybGFwc2UgKVxuXG4jLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5vbkNhbmNlbCA9IC0+XG5cdGluZGV4ID0gdGFza3MuaW5kZXhPZiggQCApXG5cdCRlbG0gPSAkKFwiI3Rhc2stI3tpbmRleH1cIilcblxuXHQkYnRuID0gJCgnPGJ1dHRvbj5kZWxldGU8L2J1dHRvbj48YnI+Jyk7XG5cblx0JGJ0bi5vbiAnY2xpY2snLCAtPlxuXHRcdCRlbG0ucmVtb3ZlKCk7XG5cblx0JGVsbS5jaGlsZHJlbigncCcpXG5cdFx0LmFwcGVuZCgnY2FuY2VsZWQ8YnI+Jylcblx0XHQuYXBwZW5kKCAkYnRuICk7XG5cbiMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbm9uQW5hbHl6ZUNvbXBsZXRlID0gLT5cblx0aW5kZXggPSB0YXNrcy5pbmRleE9mKCBAIClcblx0JGVsbSA9ICQoXCIjdGFzay0je2luZGV4fVwiKVxuXHQkcCA9ICRlbG0uY2hpbGRyZW4oJ3AnKVxuXG5cdCRlbG0uY2hpbGRyZW4oJy5jb250cm9sJykucmVtb3ZlKClcblx0QG5hbWUgPSAkZWxtLmZpbmQoJ1tuYW1lPW5hbWVdJykucHJvcCgnZGlzYWJsZWQnLCB0cnVlKS52YWwoKVxuXHRAY29tcG9zZSgpXG5cblx0IyBzYXZlIGRhdGFcblx0aW5kZXggPSB0YXNrcy5pbmRleE9mKCBAIClcblx0JGVsbSA9ICQoXCIjdGFzay0je2luZGV4fVwiKVxuXHQkcCA9ICRlbG0uY2hpbGRyZW4oJ3AnKVxuXG5cdCRwLmFwcGVuZCgnY29tcG9zaW5nLi48YnI+JylcblxuXHRkaXIgPSBcIiN7c2V0dGluZ3MuZGlyfS8je0BuYW1lfVwiXG5cblx0aWYgQG1ldGhvZCA9PSBHU1ZIeXBlcmxhcHNlTWV0aG9kLkRJUkVDVElPTlxuXHRcdHR4dFJlcG9ydCA9IFwiXCJcIlxuXHRcdFx0XHRcdG1ldGhvZDogZGlyZWN0aW9uXG5cdFx0XHRcdFx0dXJsOiAje0Bzb3VyY2VVcmx9XG5cdFx0XHRcdFx0c3RlcDogI3tAc3RlcH1cblx0XHRcdFx0XHRzZWFyY2hSYWRpdXM6ICN7QHNlYXJjaFJhZGl1c31cblx0XHRcdFx0XHRcIlwiXCJcblx0ZWxzZSBpZiBAbWV0aG9kID0gR1NWSHlwZXJsYXBzZU1ldGhvZC5QQU5PSUQgXG5cdFx0dHh0UmVwb3J0ID0gXCJtZXRob2Q6IHBhbm9pZFwiXG5cblx0dHh0UGFub0lkcyA9IEpTT04uc3RyaW5naWZ5KCAocGFuby5pZCBmb3IgcGFubyBpbiBAcGFub0xpc3QpIClcblxuXHRta2RpcnAgZGlyLCAtPlxuXHRcdGZzLndyaXRlRmlsZSBcIiN7ZGlyfS9fcmVwb3J0LnR4dFwiLCB0eHRSZXBvcnQsIC0+XG5cdFx0XHQkcC5hcHBlbmQoJ3JlcG9ydCBzYXZlZDxicj4nKVxuXG5cdFx0ZnMud3JpdGVGaWxlIFwiI3tkaXJ9L19wYW5vLWlkcy5qc29uXCIsIHR4dFBhbm9JZHMsIC0+XG5cdFx0XHQkcC5hcHBlbmQoJ3Bhbm8taWRzLmpzb24gc2F2ZWQ8YnI+JylcblxuIy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxub25Db21wb3NlQ29tcGxldGUgPSAtPlxuXHRpbmRleCA9IHRhc2tzLmluZGV4T2YoIEAgKVxuXHQkZWxtID0gJChcIiN0YXNrLSN7aW5kZXh9XCIpXG5cdCRwID0gJGVsbS5jaGlsZHJlbigncCcpXG5cblx0ZGlyID0gXCIje3NldHRpbmdzLmRpcn0vI3tAbmFtZX1cIlxuXHR0eHRQYW5vTGlzdCA9IEpTT04uc3RyaW5naWZ5KCBAcGFub0xpc3QgKVxuXG5cdGZzLndyaXRlRmlsZSBcIiN7ZGlyfS9fcGFuby1kYXRhLmpzb25cIiwgdHh0UGFub0xpc3QsIC0+XG5cdFx0JHAuYXBwZW5kKCdwYW5vLWRhdGEuanNvbiBzYXZlZDxicj4nKVxuXG5cdFx0bm90aWZpZXIubm90aWZ5XG5cdFx0XHR0aXRsZTogXCJHU1YgR2VuZXJhdG9yXCJcblx0XHRcdG1lc3NhZ2U6IFwiQWxsIGRvbmUhXCJcblx0XHRcdHNvdW5kOiB0cnVlXG5cbiMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbm9uUHJvZ3Jlc3MgPSAobG9hZGVkLCB0b3RhbCkgLT5cblx0aW5kZXggPSB0YXNrcy5pbmRleE9mKCBAIClcblx0JGVsbSA9ICQoXCIjdGFzay0je2luZGV4fVwiKVxuXG5cdGlmIGxvYWRlZCA8IDFcblx0XHQkZWxtLmNoaWxkcmVuKCdwJykuYXBwZW5kKCAkKCc8cHJvZ3Jlc3M+PC9wcm9ncmVzcz4nKSlcblxuXHQkZWxtLmZpbmQoXCJwcm9ncmVzc1wiKS5sYXN0KClcblx0XHQuYXR0clxuXHRcdFx0dmFsdWU6IGxvYWRlZFxuXHRcdFx0bWF4OiB0b3RhbFxuXHRcdFx0J2RhdGEtbGFiZWwnOiAgXCJbI3tsb2FkZWR9LyN7dG90YWx9XVwiXG5cbiMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbm9uTWVzc2FnZSA9IChtZXNzYWdlKSAtPlxuXHRpbmRleCA9IHRhc2tzLmluZGV4T2YoIEAgKVxuXHQkZWxtID0gJChcIiN0YXNrLSN7aW5kZXh9XCIpXG5cblx0JGVsbS5jaGlsZHJlbigncCcpLmFwcGVuZCggbWVzc2FnZSArIFwiPGJyPlwiIClcblxuIy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxub25QYW5vcmFtYUxvYWQgPSAoaWR4LCBwYW5vLCBkYXRhKSAtPlxuXHRpbmRleCA9IHRhc2tzLmluZGV4T2YoIEAgKVxuXHQkZWxtID0gJChcIiN0YXNrLSN7aW5kZXh9XCIpXG5cblx0Y2FudmFzLndpZHRoID0gcGFuby53aWR0aFxuXHRjYW52YXMuaGVpZ2h0ID0gcGFuby5oZWlnaHQgKiBWX1NDQUxFXG5cblx0Y3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJylcblx0Y3R4LmZpbGxTdHlsZSA9ICcjMDAwMDAwJ1xuXHRjdHguZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KVxuXHRjdHguZHJhd0ltYWdlKHBhbm8sIDAsIDApXG5cblx0dGFnID1cblx0XHR1aWQ6IEB1aWRcblx0XHRpZDogZGF0YS5pZFxuXHRcdGhlYWRpbmc6IGRhdGEuaGVhZGluZ1xuXHRcdGxhdExuZzogZGF0YS5sYXRMbmcudG9TdHJpbmcoKVxuXG5cdENhbnZhc01hdHJpeENvZGUuZHJhdyhjYW52YXMsIHRhZywgMCwgcGFuby5oZWlnaHQgKyAxMCwgY2FudmFzLndpZHRoLCBUQUdfSEVJR0hUIC0gMTApXG5cblx0JGVsbS5hcHBlbmQoY2FudmFzKVxuXG5cdHBhdGggPSBcIiN7c2V0dGluZ3MuZGlyfS8je0BuYW1lfS8je0BuYW1lfV8jeygnMDAwMDAwJyArIGlkeCkuc3Vic3RyKC02LCA2KX0ucG5nXCJcblxuXHRzYXZlQ2FudmFzKGNhbnZhcywgcGF0aCkiXX0=