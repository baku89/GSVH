var API_KEY, DIST_BETWEEN_PTS, MAX_PTS, TAG_HEIGHT, VERSION, canvas, create, dirService, loader, onAnalyzeComplete, onCancel, onComposeComplete, onMessage, onPanoramaLoad, onProgress, panoIds, rawPts, res, restoreSettings, settings, storage, tasks, totalDist, updateSettings;

MAX_PTS = 100;

DIST_BETWEEN_PTS = 5;

API_KEY = "AIzaSyBQ2dzDfyF8Y0Dwe-Q6Jzx4_G62ANrTotQ";

VERSION = '0.3';

TAG_HEIGHT = 40;

loader = null;

dirService = new google.maps.DirectionsService({});

res = null;

rawPts = [];

panoIds = [];

totalDist = 0;

canvas = null;

tasks = [];

settings = {};

storage = localStorage;

restoreSettings = function() {
  var $elm;
  $elm = $('nav');
  if (storage.version === VERSION) {
    $('#name').val(storage.name);
    $('#dir').val(storage.dir);
    $("input[value=" + storage.method + "]").prop('checked', true);
    $('#url').val(storage.url);
    $('#panoid').val(storage.panoid);
    $("input[value=" + storage.travelMode + "]").prop('checked', true);
    $("input[value=" + storage.headingMode + "]").prop('checked', true);
    $('#lookat').val(storage.lookat);
    $('#zoom').val(storage.zoom);
    $('#step').val(storage.step);
    $('#search-radius').val(storage.searchRadius);
  }
  return $elm.find('[data-parent]').each(function() {
    var $parent, $this, name;
    $this = $(this);
    $parent = $($this.attr('data-parent'));
    name = $parent.attr('name');
    return $("[name=" + name).on('change', (function(_this) {
      return function() {
        return $(_this).toggle($parent.prop('checked'));
      };
    })(this)).trigger('change');
  });
};

updateSettings = function() {
  settings.name = $('#name').val();
  settings.dir = $('#dir').val();
  settings.method = $('input[name=method]:checked').val();
  settings.url = $('#url').val();
  settings.panoid = $('#panoid').val();
  settings.travelMode = $('input[name=travel]:checked').val();
  settings.headingMode = $('input[name=heading]:checked').val();
  settings.lookat = $('#lookat').val();
  settings.zoom = $('#zoom').val();
  settings.step = $('#step').val();
  settings.searchRadius = $('#search-radius').val();
  settings.version = VERSION;
  return $.extend(storage, settings);
};

$(function() {
  canvas = document.createElement('canvas');
  $('#create').on('click', create);
  GSVHyperlapse.onMessage = onMessage;
  GSVHyperlapse.onPanoramaLoad = onPanoramaLoad;
  GSVHyperlapse.onProgress = onProgress;
  GSVHyperlapse.onAnalyzeComplete = onAnalyzeComplete;
  GSVHyperlapse.onComposeComplete = onComposeComplete;
  GSVHyperlapse.onCancel = onCancel;
  restoreSettings();
  return $('input').on('change', updateSettings);
});

create = function() {
  updateSettings();
  return FILE.exists(settings.dir + "/" + settings.name, function(flg) {
    var hyperlapse, index, list;
    if (flg) {
      alert('destination folder is already exists.');
      return;
    }
    index = tasks.length;
    $('.tasks').append("<li id='task-" + index + "'> <h1><input type='text' name='name' value='" + settings.name + "'></h1> <button class='cancel action' data-index='" + index + "'>Cancel</button> <p>mode: " + settings.method + "<br></p> <div id='map-" + index + "' style='width: 48%; height: 0; padding-top: 26%; background:gray; display: inline-block;'></div> </li>");
    hyperlapse = new GSVHyperlapse(settings.name, $("#map-" + index)[0]);
    hyperlapse.setParameters(settings);
    if (settings.method === 'direction') {
      hyperlapse.createFromDirection(settings.url);
    } else if (settings.method === 'panoid') {
      list = $.parseJSON($('#panoid').val());
      hyperlapse.createFromPanoId(list);
    }
    $("#task-" + index + " .cancel").on('click', function() {
      index = $(this).attr('data-index');
      return tasks[index].cancel();
    });
    return tasks.push(hyperlapse);
  });
};

onCancel = function() {
  var $btn, $elm, index;
  index = tasks.indexOf(this);
  $elm = $("#task-" + index);
  $btn = $('<button>delete</button><br>');
  $btn.on('click', function() {
    return $elm.remove();
  });
  return $elm.children('p').append('canceled<br>').append($btn);
};

onAnalyzeComplete = function() {
  var $btnGen, $elm, $p, index;
  index = tasks.indexOf(this);
  $elm = $("#task-" + index);
  $p = $elm.children('p');
  $btnGen = $('<button>generate hyperlapse</button><br>');
  $elm.children('p').append($btnGen);
  return $btnGen.on('click', (function(_this) {
    return function() {
      $elm.children('.control').remove();
      return _this.compose(settings);
    };
  })(this));
};

onComposeComplete = function() {
  var $elm, $p, dir, index, pano, txtPanoIds, txtPanoList, txtReport;
  index = tasks.indexOf(this);
  $elm = $("#task-" + index);
  $p = $elm.children('p');
  this.name = $elm.find('[name=name]').prop('disabled', true).val();
  dir = settings.dir + "/" + this.name;
  if (this.method === GSVHyperlapseMethod.DIRECTION) {
    txtReport = "method: direction\nurl: " + this.sourceUrl + "\nstep: " + this.step + "\nsearchRadius: " + this.searchRadius;
  } else if (this.method = GSVHyperlapseMethod.PANOID) {
    txtReport = "method: panoid";
  }
  txtPanoIds = JSON.stringify((function() {
    var i, len, ref, results;
    ref = this.panoList;
    results = [];
    for (i = 0, len = ref.length; i < len; i++) {
      pano = ref[i];
      results.push(pano.id);
    }
    return results;
  }).call(this));
  txtPanoList = JSON.stringify(this.panoList);
  FILE.saveText(txtReport, dir + "/_report.txt", (function(_this) {
    return function(res) {
      return $p.append('report saved<br>');
    };
  })(this));
  FILE.saveText(txtPanoIds, dir + "/_pano-ids.json", (function(_this) {
    return function(res) {
      return $p.append('pano-ids.json saved<br>');
    };
  })(this));
  return FILE.saveText(txtPanoList, dir + "/_pano-data.json", (function(_this) {
    return function(res) {
      return $p.append('pano-data.json saved<br>');
    };
  })(this));
};

onProgress = function(loaded, total) {
  var $elm, index;
  index = tasks.indexOf(this);
  $elm = $("#task-" + index);
  if (loaded < 1) {
    $elm.children('p').append($('<progress></progress>'));
  }
  return $elm.find("progress").last().attr({
    value: loaded,
    max: total,
    'data-label': "[" + loaded + "/" + total + "]"
  });
};

onMessage = function(message) {
  var $elm, index;
  index = tasks.indexOf(this);
  $elm = $("#task-" + index);
  return $elm.children('p').append(message + "<br>");
};

onPanoramaLoad = function(idx, pano, data) {
  var $elm, index, params;
  index = tasks.indexOf(this);
  $elm = $("#task-" + index);
  writeTag(canvas, pano, data, this);
  $elm.append(canvas);
  params = {
    name: this.name,
    directory: settings.dir,
    number: idx,
    image: canvas.toDataURL('image/png')
  };
  return $.ajax({
    type: "POST",
    url: './save.php',
    data: params,
    success: (function(_this) {
      return function(json) {
        var result;
        result = $.parseJSON(json);
        if (result.status !== "success") {
          _this.cancel();
          return $elm.children('p').append("an error occured" + "<br>");
        }
      };
    })(this)
  });
};

//# sourceMappingURL=data:application/json;base64,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b3IuanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8iLCJzb3VyY2VzQ29udGVudCI6WyIjLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4jIGNvbnN0YW50c1xuTUFYX1BUUyA9IDEwMFxuRElTVF9CRVRXRUVOX1BUUyA9IDVcblxuQVBJX0tFWSA9IFwiQUl6YVN5QlEyZHpEZnlGOFkwRHdlLVE2Snp4NF9HNjJBTnJUb3RRXCJcblZFUlNJT04gPSAnMC4zJ1xuXG5UQUdfSEVJR0hUID0gNDBcblxuIy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuIyB2YXJpYWJsZXNcbmxvYWRlciA9IG51bGxcbmRpclNlcnZpY2UgPSBuZXcgZ29vZ2xlLm1hcHMuRGlyZWN0aW9uc1NlcnZpY2Uoe30pXG5cbiMgZWFjaCByZXNcbnJlcyA9IG51bGxcblxucmF3UHRzID0gW11cbnBhbm9JZHMgPSBbXVxudG90YWxEaXN0ID0gMFxuXG5jYW52YXMgPSBudWxsXG5cbnRhc2tzID0gW11cblxuc2V0dGluZ3MgPSB7fVxuXG5zdG9yYWdlID0gbG9jYWxTdG9yYWdlXG5cbiMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiMgaW5pdFxuXG5yZXN0b3JlU2V0dGluZ3MgPSAtPlxuXHQkZWxtID0gJCgnbmF2JylcblxuXHRpZiBzdG9yYWdlLnZlcnNpb24gPT0gVkVSU0lPTlxuXHRcdCMgcmVzdG9yZSBhbGwgc2V0dGluZ3Ncblx0XHQkKCcjbmFtZScpLnZhbCggc3RvcmFnZS5uYW1lIClcblx0XHQkKCcjZGlyJykudmFsKCBzdG9yYWdlLmRpciApXG5cdFx0JChcImlucHV0W3ZhbHVlPSN7c3RvcmFnZS5tZXRob2R9XVwiKS5wcm9wKCdjaGVja2VkJywgdHJ1ZSlcblx0XHQkKCcjdXJsJykudmFsKCBzdG9yYWdlLnVybCApXG5cdFx0JCgnI3Bhbm9pZCcpLnZhbCggc3RvcmFnZS5wYW5vaWQgKVxuXHRcdCQoXCJpbnB1dFt2YWx1ZT0je3N0b3JhZ2UudHJhdmVsTW9kZX1dXCIpLnByb3AoJ2NoZWNrZWQnLCB0cnVlKVxuXHRcdCQoXCJpbnB1dFt2YWx1ZT0je3N0b3JhZ2UuaGVhZGluZ01vZGV9XVwiKS5wcm9wKCdjaGVja2VkJywgdHJ1ZSlcblx0XHQkKCcjbG9va2F0JykudmFsKCBzdG9yYWdlLmxvb2thdCApXG5cdFx0JCgnI3pvb20nKS52YWwoIHN0b3JhZ2Uuem9vbSApXG5cdFx0JCgnI3N0ZXAnKS52YWwoIHN0b3JhZ2Uuc3RlcCApXG5cdFx0JCgnI3NlYXJjaC1yYWRpdXMnKS52YWwoIHN0b3JhZ2Uuc2VhcmNoUmFkaXVzIClcblxuXHQkZWxtLmZpbmQoJ1tkYXRhLXBhcmVudF0nKS5lYWNoIC0+XG5cblx0XHQkdGhpcyA9ICQoQClcblx0XHQkcGFyZW50ID0gJCggJHRoaXMuYXR0cignZGF0YS1wYXJlbnQnKSApXG5cdFx0bmFtZSA9ICRwYXJlbnQuYXR0cignbmFtZScpXG5cblx0XHQkKFwiW25hbWU9I3tuYW1lfVwiKS5vbiAnY2hhbmdlJywgPT5cblx0XHRcdCQoQCkudG9nZ2xlKCAkcGFyZW50LnByb3AoJ2NoZWNrZWQnKSApXG5cdFx0LnRyaWdnZXIoJ2NoYW5nZScpXG5cblxuIy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuIyBmdW5jdGlvbnNcblxudXBkYXRlU2V0dGluZ3MgPSAtPlxuXHRzZXR0aW5ncy5uYW1lIFx0ICAgICAgICA9ICQoJyNuYW1lJykudmFsKClcblx0c2V0dGluZ3MuZGlyIFx0ICAgICAgICA9ICQoJyNkaXInKS52YWwoKVxuXHRzZXR0aW5ncy5tZXRob2RcdFx0XHQ9ICQoJ2lucHV0W25hbWU9bWV0aG9kXTpjaGVja2VkJykudmFsKClcblx0c2V0dGluZ3MudXJsIFx0ICAgICAgICA9ICQoJyN1cmwnKS52YWwoKVxuXHRzZXR0aW5ncy5wYW5vaWQgXHRcdD0gJCgnI3Bhbm9pZCcpLnZhbCgpXG5cdHNldHRpbmdzLnRyYXZlbE1vZGUgICAgID0gJCgnaW5wdXRbbmFtZT10cmF2ZWxdOmNoZWNrZWQnKS52YWwoKVxuXHRzZXR0aW5ncy5oZWFkaW5nTW9kZSAgICA9ICQoJ2lucHV0W25hbWU9aGVhZGluZ106Y2hlY2tlZCcpLnZhbCgpXG5cdHNldHRpbmdzLmxvb2thdCAgICAgICAgID0gJCgnI2xvb2thdCcpLnZhbCgpXG5cdHNldHRpbmdzLnpvb21cdCAgICAgICAgPSAkKCcjem9vbScpLnZhbCgpXG5cdHNldHRpbmdzLnN0ZXBcdCAgICAgICAgPSAkKCcjc3RlcCcpLnZhbCgpXG5cdHNldHRpbmdzLnNlYXJjaFJhZGl1c1x0PSAkKCcjc2VhcmNoLXJhZGl1cycpLnZhbCgpXG5cdHNldHRpbmdzLnZlcnNpb24gXHRcdD0gVkVSU0lPTlxuXG5cdCMgc2F2ZSB0byB3ZWIgc3RvcmFnZVxuXHQkLmV4dGVuZChzdG9yYWdlLCBzZXR0aW5ncylcblxuIy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuIyBvbiBsb2FkXG5cbiQgLT5cblxuXHRjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKVxuXG5cdCQoJyNjcmVhdGUnKS5vbiAnY2xpY2snLCBjcmVhdGVcblxuXHRHU1ZIeXBlcmxhcHNlLm9uTWVzc2FnZSA9IG9uTWVzc2FnZVxuXHRHU1ZIeXBlcmxhcHNlLm9uUGFub3JhbWFMb2FkID0gb25QYW5vcmFtYUxvYWRcblx0R1NWSHlwZXJsYXBzZS5vblByb2dyZXNzID0gb25Qcm9ncmVzc1xuXHRHU1ZIeXBlcmxhcHNlLm9uQW5hbHl6ZUNvbXBsZXRlID0gb25BbmFseXplQ29tcGxldGVcblx0R1NWSHlwZXJsYXBzZS5vbkNvbXBvc2VDb21wbGV0ZSA9IG9uQ29tcG9zZUNvbXBsZXRlXG5cdEdTVkh5cGVybGFwc2Uub25DYW5jZWwgPSBvbkNhbmNlbFxuXG5cdHJlc3RvcmVTZXR0aW5ncygpXG5cblx0JCgnaW5wdXQnKS5vbiAnY2hhbmdlJywgdXBkYXRlU2V0dGluZ3NcblxuIy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuY3JlYXRlID0gLT5cblxuXHR1cGRhdGVTZXR0aW5ncygpXG5cblx0RklMRS5leGlzdHMgXCIje3NldHRpbmdzLmRpcn0vI3tzZXR0aW5ncy5uYW1lfVwiLCAoZmxnKSAtPlxuXG5cdFx0aWYgZmxnXG5cdFx0XHRhbGVydCAnZGVzdGluYXRpb24gZm9sZGVyIGlzIGFscmVhZHkgZXhpc3RzLidcblx0XHRcdHJldHVyblxuXHRcdFxuXG5cdFx0aW5kZXggPSB0YXNrcy5sZW5ndGhcblxuXHRcdCQoJy50YXNrcycpLmFwcGVuZChcIlxuXHRcdFx0PGxpIGlkPSd0YXNrLSN7aW5kZXh9Jz5cblx0XHRcdFx0PGgxPjxpbnB1dCB0eXBlPSd0ZXh0JyBuYW1lPSduYW1lJyB2YWx1ZT0nI3tzZXR0aW5ncy5uYW1lfSc+PC9oMT5cblx0XHRcdFx0PGJ1dHRvbiBjbGFzcz0nY2FuY2VsIGFjdGlvbicgZGF0YS1pbmRleD0nI3tpbmRleH0nPkNhbmNlbDwvYnV0dG9uPlxuXHRcdFx0XHQ8cD5tb2RlOiAje3NldHRpbmdzLm1ldGhvZH08YnI+PC9wPlxuXHRcdFx0XHQ8ZGl2IGlkPSdtYXAtI3tpbmRleH0nIHN0eWxlPSd3aWR0aDogNDglOyBoZWlnaHQ6IDA7IHBhZGRpbmctdG9wOiAyNiU7IGJhY2tncm91bmQ6Z3JheTsgZGlzcGxheTogaW5saW5lLWJsb2NrOyc+PC9kaXY+XG5cdFx0XHQ8L2xpPlxuXHRcdFwiKVxuXG5cdFx0aHlwZXJsYXBzZSA9IG5ldyBHU1ZIeXBlcmxhcHNlKHNldHRpbmdzLm5hbWUsICQoXCIjbWFwLSN7aW5kZXh9XCIpWzBdKVxuXHRcdGh5cGVybGFwc2Uuc2V0UGFyYW1ldGVycyhzZXR0aW5ncylcblxuXHRcdGlmIHNldHRpbmdzLm1ldGhvZCA9PSAnZGlyZWN0aW9uJ1xuXHRcdFx0aHlwZXJsYXBzZS5jcmVhdGVGcm9tRGlyZWN0aW9uKHNldHRpbmdzLnVybClcblxuXHRcdGVsc2UgaWYgc2V0dGluZ3MubWV0aG9kID09ICdwYW5vaWQnXG5cdFx0XHRsaXN0ID0gJC5wYXJzZUpTT04oICQoJyNwYW5vaWQnKS52YWwoKSApXG5cdFx0XHRoeXBlcmxhcHNlLmNyZWF0ZUZyb21QYW5vSWQobGlzdClcblxuXHRcdCQoXCIjdGFzay0je2luZGV4fSAuY2FuY2VsXCIpLm9uICdjbGljaycsIC0+XG5cdFx0XHRpbmRleCA9ICQoQCkuYXR0cignZGF0YS1pbmRleCcpXG5cdFx0XHR0YXNrc1tpbmRleF0uY2FuY2VsKClcblxuXG5cdFx0dGFza3MucHVzaCggaHlwZXJsYXBzZSApXG5cbiMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbm9uQ2FuY2VsID0gLT5cblx0aW5kZXggPSB0YXNrcy5pbmRleE9mKCBAIClcblx0JGVsbSA9ICQoXCIjdGFzay0je2luZGV4fVwiKVxuXG5cdCRidG4gPSAkKCc8YnV0dG9uPmRlbGV0ZTwvYnV0dG9uPjxicj4nKTtcblxuXHQkYnRuLm9uICdjbGljaycsIC0+XG5cdFx0JGVsbS5yZW1vdmUoKTtcblxuXHQkZWxtLmNoaWxkcmVuKCdwJylcblx0XHQuYXBwZW5kKCdjYW5jZWxlZDxicj4nKVxuXHRcdC5hcHBlbmQoICRidG4gKTtcblxuIy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxub25BbmFseXplQ29tcGxldGUgPSAtPlxuXHRpbmRleCA9IHRhc2tzLmluZGV4T2YoIEAgKVxuXHQkZWxtID0gJChcIiN0YXNrLSN7aW5kZXh9XCIpXG5cdCRwID0gJGVsbS5jaGlsZHJlbigncCcpXG5cblx0JGJ0bkdlbiA9ICQoJzxidXR0b24+Z2VuZXJhdGUgaHlwZXJsYXBzZTwvYnV0dG9uPjxicj4nKTtcblxuXHQkZWxtLmNoaWxkcmVuKCdwJykuYXBwZW5kKCAkYnRuR2VuIClcblxuXHQjIG9uIGNsaWNrIFwiY29tcG9zZVwiIGJ1dHRvblxuXHQkYnRuR2VuLm9uICdjbGljaycsID0+XG5cdFx0JGVsbS5jaGlsZHJlbignLmNvbnRyb2wnKS5yZW1vdmUoKVxuXHRcdEBjb21wb3NlKHNldHRpbmdzKVxuXG4jLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5vbkNvbXBvc2VDb21wbGV0ZSA9IC0+XG5cdGluZGV4ID0gdGFza3MuaW5kZXhPZiggQCApXG5cdCRlbG0gPSAkKFwiI3Rhc2stI3tpbmRleH1cIilcblx0JHAgPSAkZWxtLmNoaWxkcmVuKCdwJylcblxuXHRAbmFtZSA9ICRlbG0uZmluZCgnW25hbWU9bmFtZV0nKS5wcm9wKCdkaXNhYmxlZCcsIHRydWUpLnZhbCgpXG5cblx0ZGlyID0gXCIje3NldHRpbmdzLmRpcn0vI3tAbmFtZX1cIlxuXG5cdGlmIEBtZXRob2QgPT0gR1NWSHlwZXJsYXBzZU1ldGhvZC5ESVJFQ1RJT05cblx0XHR0eHRSZXBvcnQgPSBcIlwiXCJcblx0XHRcdFx0XHRtZXRob2Q6IGRpcmVjdGlvblxuXHRcdFx0XHRcdHVybDogI3tAc291cmNlVXJsfVxuXHRcdFx0XHRcdHN0ZXA6ICN7QHN0ZXB9XG5cdFx0XHRcdFx0c2VhcmNoUmFkaXVzOiAje0BzZWFyY2hSYWRpdXN9XG5cdFx0XHRcdFx0XCJcIlwiXG5cdGVsc2UgaWYgQG1ldGhvZCA9IEdTVkh5cGVybGFwc2VNZXRob2QuUEFOT0lEIFxuXHRcdHR4dFJlcG9ydCA9IFwibWV0aG9kOiBwYW5vaWRcIlxuXG5cdHR4dFBhbm9JZHMgPSBKU09OLnN0cmluZ2lmeSggKHBhbm8uaWQgZm9yIHBhbm8gaW4gQHBhbm9MaXN0KSApXG5cdHR4dFBhbm9MaXN0ID0gSlNPTi5zdHJpbmdpZnkoIEBwYW5vTGlzdCApXG5cblx0RklMRS5zYXZlVGV4dCB0eHRSZXBvcnQsIFwiI3tkaXJ9L19yZXBvcnQudHh0XCIsIChyZXMpID0+XG5cdFx0JHAuYXBwZW5kKCdyZXBvcnQgc2F2ZWQ8YnI+JylcblxuXHRGSUxFLnNhdmVUZXh0IHR4dFBhbm9JZHMsIFwiI3tkaXJ9L19wYW5vLWlkcy5qc29uXCIsIChyZXMpID0+XG5cdFx0JHAuYXBwZW5kKCdwYW5vLWlkcy5qc29uIHNhdmVkPGJyPicpXG5cblx0RklMRS5zYXZlVGV4dCB0eHRQYW5vTGlzdCwgXCIje2Rpcn0vX3Bhbm8tZGF0YS5qc29uXCIsIChyZXMpID0+XG5cdFx0JHAuYXBwZW5kKCdwYW5vLWRhdGEuanNvbiBzYXZlZDxicj4nKVxuXG4jLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5vblByb2dyZXNzID0gKGxvYWRlZCwgdG90YWwpIC0+XG5cdGluZGV4ID0gdGFza3MuaW5kZXhPZiggQCApXG5cdCRlbG0gPSAkKFwiI3Rhc2stI3tpbmRleH1cIilcblxuXHRpZiBsb2FkZWQgPCAxXG5cdFx0JGVsbS5jaGlsZHJlbigncCcpLmFwcGVuZCggJCgnPHByb2dyZXNzPjwvcHJvZ3Jlc3M+JykpXG5cblx0JGVsbS5maW5kKFwicHJvZ3Jlc3NcIikubGFzdCgpXG5cdFx0LmF0dHJcblx0XHRcdHZhbHVlOiBsb2FkZWRcblx0XHRcdG1heDogdG90YWxcblx0XHRcdCdkYXRhLWxhYmVsJzogIFwiWyN7bG9hZGVkfS8je3RvdGFsfV1cIlxuXG4jLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5vbk1lc3NhZ2UgPSAobWVzc2FnZSkgLT5cblx0aW5kZXggPSB0YXNrcy5pbmRleE9mKCBAIClcblx0JGVsbSA9ICQoXCIjdGFzay0je2luZGV4fVwiKVxuXG5cdCRlbG0uY2hpbGRyZW4oJ3AnKS5hcHBlbmQoIG1lc3NhZ2UgKyBcIjxicj5cIiApXG5cbiMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbm9uUGFub3JhbWFMb2FkID0gKGlkeCwgcGFubywgZGF0YSkgLT5cblx0aW5kZXggPSB0YXNrcy5pbmRleE9mKCBAIClcblx0JGVsbSA9ICQoXCIjdGFzay0je2luZGV4fVwiKVxuXG5cdHdyaXRlVGFnKGNhbnZhcywgcGFubywgZGF0YSwgQClcblxuXHQkZWxtLmFwcGVuZChjYW52YXMpXG5cblx0IyBzYXZlIGltYWdlXG5cdHBhcmFtcyA9XG5cdFx0bmFtZTogQG5hbWVcblx0XHRkaXJlY3Rvcnk6IHNldHRpbmdzLmRpclxuXHRcdG51bWJlcjogaWR4XG5cdFx0aW1hZ2U6IGNhbnZhcy50b0RhdGFVUkwoJ2ltYWdlL3BuZycpXG5cblx0JC5hamF4IFxuXHRcdHR5cGU6IFwiUE9TVFwiXG5cdFx0dXJsOiAnLi9zYXZlLnBocCdcblx0XHRkYXRhOiBwYXJhbXNcblx0XHRzdWNjZXNzOiAoanNvbikgPT5cblx0XHRcdHJlc3VsdCA9ICQucGFyc2VKU09OKCBqc29uIClcblx0XHRcdGlmIHJlc3VsdC5zdGF0dXMgIT0gXCJzdWNjZXNzXCJcblx0XHRcdFx0QGNhbmNlbCgpXG5cdFx0XHRcdCRlbG0uY2hpbGRyZW4oJ3AnKS5hcHBlbmQoXCJhbiBlcnJvciBvY2N1cmVkXCIgKyBcIjxicj5cIilcbiJdfQ==