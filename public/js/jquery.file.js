var FILE;

FILE = FILE || {};

FILE.phpDirectory = './file';

FILE.Status = {
  OK: 'OK'
};

FILE.exists = function(path, callback) {
  var data;
  data = {
    path: path
  };
  return $.getJSON(FILE.phpDirectory + "/exists.php", data, function(res) {
    if (res.status === FILE.Status.OK) {
      return callback(res.result);
    } else {
      return callback(null);
    }
  });
};

FILE.saveText = function(text, path, callback) {
  $.ajax({
    type: 'POST',
    url: FILE.phpDirectory + "/saveText.php",
    data: {
      path: path,
      text: text
    },
    success: function(json) {
      var res;
      res = $.parseJSON(json);
      if (res.status === FILE.Status.OK) {
        return callback(res.result);
      } else {
        return callback(null);
      }
    },
    error: function(xmlHttpReq, textStatus, errorThrown) {
      return callback(null);
    }
  });
};

FILE.saveFrame = function(canvas, filename, index, callback) {
  var ext, split, type;
  split = filename.split('.');
  ext = split[split.length - 1].toLowerCase();
  type = "";
  if (ext === "png") {
    type = "image/png";
  } else if (ext === "jpg" || ext === "jpeg") {
    type = "image/jpeg";
  } else {
    callback(null);
    return;
  }
  $.ajax({
    type: 'POST',
    url: FILE.phpDirectory + "/saveFrame.php",
    data: {
      name: name,
      directory: directory,
      index: index,
      image: canvas.toDataURL(type)
    },
    success: function(json) {
      var res;
      res = $.parseJSON(json);
      if (res.status === FILE.Status.OK) {
        return callback(res.result);
      } else {
        return callback(null);
      }
    },
    error: function(xmlHttpReq, textStatus, errorThrown) {
      return callback(null);
    }
  });
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS5maWxlLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxJQUFBOztBQUFBLElBQUEsR0FBTyxJQUFBLElBQVE7O0FBRWYsSUFBSSxDQUFDLFlBQUwsR0FBb0I7O0FBRXBCLElBQUksQ0FBQyxNQUFMLEdBQ0M7RUFBQSxFQUFBLEVBQUksSUFBSjs7O0FBRUQsSUFBSSxDQUFDLE1BQUwsR0FBYyxTQUFDLElBQUQsRUFBTyxRQUFQO0FBQ2IsTUFBQTtFQUFBLElBQUEsR0FDQztJQUFBLElBQUEsRUFBTSxJQUFOOztTQUVELENBQUMsQ0FBQyxPQUFGLENBQWEsSUFBSSxDQUFDLFlBQU4sR0FBbUIsYUFBL0IsRUFBNkMsSUFBN0MsRUFBbUQsU0FBQyxHQUFEO0lBQ2xELElBQUcsR0FBRyxDQUFDLE1BQUosS0FBYyxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQTdCO2FBQ0MsUUFBQSxDQUFVLEdBQUcsQ0FBQyxNQUFkLEVBREQ7S0FBQSxNQUFBO2FBR0MsUUFBQSxDQUFVLElBQVYsRUFIRDs7RUFEa0QsQ0FBbkQ7QUFKYTs7QUFVZCxJQUFJLENBQUMsUUFBTCxHQUFnQixTQUFDLElBQUQsRUFBTyxJQUFQLEVBQWEsUUFBYjtFQUVmLENBQUMsQ0FBQyxJQUFGLENBQ0M7SUFBQSxJQUFBLEVBQU0sTUFBTjtJQUNBLEdBQUEsRUFBUSxJQUFJLENBQUMsWUFBTixHQUFtQixlQUQxQjtJQUVBLElBQUEsRUFDQztNQUFBLElBQUEsRUFBTSxJQUFOO01BQ0EsSUFBQSxFQUFNLElBRE47S0FIRDtJQU1BLE9BQUEsRUFBUyxTQUFDLElBQUQ7QUFDUixVQUFBO01BQUEsR0FBQSxHQUFNLENBQUMsQ0FBQyxTQUFGLENBQVksSUFBWjtNQUNOLElBQUcsR0FBRyxDQUFDLE1BQUosS0FBYyxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQTdCO2VBQ0MsUUFBQSxDQUFVLEdBQUcsQ0FBQyxNQUFkLEVBREQ7T0FBQSxNQUFBO2VBR0MsUUFBQSxDQUFVLElBQVYsRUFIRDs7SUFGUSxDQU5UO0lBYUEsS0FBQSxFQUFPLFNBQUMsVUFBRCxFQUFhLFVBQWIsRUFBeUIsV0FBekI7YUFDTixRQUFBLENBQVUsSUFBVjtJQURNLENBYlA7R0FERDtBQUZlOztBQXdCaEIsSUFBSSxDQUFDLFNBQUwsR0FBaUIsU0FBQyxNQUFELEVBQVMsUUFBVCxFQUFtQixLQUFuQixFQUEwQixRQUExQjtBQUVoQixNQUFBO0VBQUEsS0FBQSxHQUFRLFFBQVEsQ0FBQyxLQUFULENBQWUsR0FBZjtFQUNSLEdBQUEsR0FBTSxLQUFPLENBQUEsS0FBSyxDQUFDLE1BQU4sR0FBZSxDQUFmLENBQWtCLENBQUMsV0FBMUIsQ0FBQTtFQUVOLElBQUEsR0FBTztFQUVQLElBQUcsR0FBQSxLQUFPLEtBQVY7SUFDQyxJQUFBLEdBQU8sWUFEUjtHQUFBLE1BRUssSUFBRyxHQUFBLEtBQU8sS0FBUCxJQUFpQixHQUFBLEtBQU8sTUFBM0I7SUFDSixJQUFBLEdBQU8sYUFESDtHQUFBLE1BQUE7SUFHSixRQUFBLENBQVMsSUFBVDtBQUNBLFdBSkk7O0VBT0wsQ0FBQyxDQUFDLElBQUYsQ0FDQztJQUFBLElBQUEsRUFBTSxNQUFOO0lBQ0EsR0FBQSxFQUFRLElBQUksQ0FBQyxZQUFOLEdBQW1CLGdCQUQxQjtJQUVBLElBQUEsRUFDQztNQUFBLElBQUEsRUFBTSxJQUFOO01BQ0EsU0FBQSxFQUFXLFNBRFg7TUFFQSxLQUFBLEVBQU8sS0FGUDtNQUdBLEtBQUEsRUFBTyxNQUFNLENBQUMsU0FBUCxDQUFpQixJQUFqQixDQUhQO0tBSEQ7SUFRQSxPQUFBLEVBQVMsU0FBQyxJQUFEO0FBQ1IsVUFBQTtNQUFBLEdBQUEsR0FBTSxDQUFDLENBQUMsU0FBRixDQUFhLElBQWI7TUFDTixJQUFHLEdBQUcsQ0FBQyxNQUFKLEtBQWMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUE3QjtlQUNDLFFBQUEsQ0FBVSxHQUFHLENBQUMsTUFBZCxFQUREO09BQUEsTUFBQTtlQUdDLFFBQUEsQ0FBVSxJQUFWLEVBSEQ7O0lBRlEsQ0FSVDtJQWVBLEtBQUEsRUFBTyxTQUFDLFVBQUQsRUFBYSxVQUFiLEVBQXlCLFdBQXpCO2FBQ04sUUFBQSxDQUFVLElBQVY7SUFETSxDQWZQO0dBREQ7QUFoQmdCIiwiZmlsZSI6ImpxdWVyeS5maWxlLmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIiwic291cmNlc0NvbnRlbnQiOlsiRklMRSA9IEZJTEUgfHwge31cblxuRklMRS5waHBEaXJlY3RvcnkgPSAnLi9maWxlJ1xuXG5GSUxFLlN0YXR1cyA9XG5cdE9LOiAnT0snXG5cbkZJTEUuZXhpc3RzID0gKHBhdGgsIGNhbGxiYWNrKSAtPlxuXHRkYXRhID1cblx0XHRwYXRoOiBwYXRoXG5cblx0JC5nZXRKU09OIFwiI3tGSUxFLnBocERpcmVjdG9yeX0vZXhpc3RzLnBocFwiLCBkYXRhLCAocmVzKS0+XG5cdFx0aWYgcmVzLnN0YXR1cyA9PSBGSUxFLlN0YXR1cy5PS1xuXHRcdFx0Y2FsbGJhY2soIHJlcy5yZXN1bHQgKVxuXHRcdGVsc2Vcblx0XHRcdGNhbGxiYWNrKCBudWxsIClcblxuRklMRS5zYXZlVGV4dCA9ICh0ZXh0LCBwYXRoLCBjYWxsYmFjaykgLT5cblxuXHQkLmFqYXhcblx0XHR0eXBlOiAnUE9TVCdcblx0XHR1cmw6IFwiI3tGSUxFLnBocERpcmVjdG9yeX0vc2F2ZVRleHQucGhwXCJcblx0XHRkYXRhOlxuXHRcdFx0cGF0aDogcGF0aFxuXHRcdFx0dGV4dDogdGV4dFxuXG5cdFx0c3VjY2VzczogKGpzb24pIC0+XG5cdFx0XHRyZXMgPSAkLnBhcnNlSlNPTihqc29uKVxuXHRcdFx0aWYgcmVzLnN0YXR1cyA9PSBGSUxFLlN0YXR1cy5PS1xuXHRcdFx0XHRjYWxsYmFjayggcmVzLnJlc3VsdCApXG5cdFx0XHRlbHNlXG5cdFx0XHRcdGNhbGxiYWNrKCBudWxsIClcblxuXHRcdGVycm9yOiAoeG1sSHR0cFJlcSwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pIC0+XG5cdFx0XHRjYWxsYmFjayggbnVsbCApXG5cblx0cmV0dXJuXG5cblxuXG5cbkZJTEUuc2F2ZUZyYW1lID0gKGNhbnZhcywgZmlsZW5hbWUsIGluZGV4LCBjYWxsYmFjaykgLT5cblxuXHRzcGxpdCA9IGZpbGVuYW1lLnNwbGl0KCcuJylcblx0ZXh0ID0gc3BsaXRbIHNwbGl0Lmxlbmd0aCAtIDEgXS50b0xvd2VyQ2FzZSgpXG5cblx0dHlwZSA9IFwiXCJcblxuXHRpZiBleHQgPT0gXCJwbmdcIlxuXHRcdHR5cGUgPSBcImltYWdlL3BuZ1wiXG5cdGVsc2UgaWYgZXh0ID09IFwianBnXCIgb3IgIGV4dCA9PSBcImpwZWdcIlxuXHRcdHR5cGUgPSBcImltYWdlL2pwZWdcIlxuXHRlbHNlXG5cdFx0Y2FsbGJhY2sobnVsbClcblx0XHRyZXR1cm5cblxuXG5cdCQuYWpheFxuXHRcdHR5cGU6ICdQT1NUJ1xuXHRcdHVybDogXCIje0ZJTEUucGhwRGlyZWN0b3J5fS9zYXZlRnJhbWUucGhwXCJcblx0XHRkYXRhOlxuXHRcdFx0bmFtZTogbmFtZVxuXHRcdFx0ZGlyZWN0b3J5OiBkaXJlY3Rvcnlcblx0XHRcdGluZGV4OiBpbmRleFxuXHRcdFx0aW1hZ2U6IGNhbnZhcy50b0RhdGFVUkwodHlwZSlcblxuXHRcdHN1Y2Nlc3M6IChqc29uKSAtPlxuXHRcdFx0cmVzID0gJC5wYXJzZUpTT04oIGpzb24gKVxuXHRcdFx0aWYgcmVzLnN0YXR1cyA9PSBGSUxFLlN0YXR1cy5PS1xuXHRcdFx0XHRjYWxsYmFjayggcmVzLnJlc3VsdCApXG5cdFx0XHRlbHNlXG5cdFx0XHRcdGNhbGxiYWNrKCBudWxsIClcblxuXHRcdGVycm9yOiAoeG1sSHR0cFJlcSwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pIC0+XG5cdFx0XHRjYWxsYmFjayggbnVsbCApXG5cblx0cmV0dXJuXG5cdCJdfQ==